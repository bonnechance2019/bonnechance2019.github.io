(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["f12db3fc"],{"16e8":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-input",{ref:"person",staticClass:"q-pt-md",staticStyle:{width:"125px"},attrs:{outlined:"",value:t.person,type:"number",rules:[function(t){return!!t||"required"}],label:"人份"},on:{input:function(e){return t.$emit("update:person",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.person,expression:"person"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:person","")}}})]},proxy:!0}])})},i=[],s={props:["person"]},r=s,a=o("2877"),c=o("fe09"),l=Object(a["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QInput:c["q"],QIcon:c["o"]},l.options.components||{})},"1f3f":function(t,e,o){"use strict";o("7f7f");e["a"]={methods:{submitForm:function(){this.$refs.modalDishName.$refs.name.validate(),this.$refs.modalDishRestaurant.$refs.restaurant_id.validate(),this.$refs.modalDishPerson.$refs.person.validate(),this.containToSubmit.length?this.$refs.modalDishName.$refs.name.hasError||this.$refs.modalDishRestaurant.$refs.restaurant_id.hasError||this.$refs.modalDishPerson.$refs.person.hasError||this.submitDish():this.containError=!0},clearDish:function(){}},components:{"modal-buttons":o("5638").default,"modal-dish-name":o("f283").default,"modal-photo":o("555b").default,"modal-dish-restaurant":o("2cd7").default,"modal-dish-food":o("8070").default,"modal-dish-recipe":o("b5df").default,"modal-dish-person":o("16e8").default,"food-table":o("c181").default}}},2366:function(t,e){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);function i(t,e){var n=e||0,i=o;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}t.exports=i},2374:function(t,e,o){"use strict";var n=o("99de"),i=o.n(n);i.a},"26c0":function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));o("a481");function n(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),t}},"2b5f":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"full-width",staticStyle:{background:"#F8F8FF"}},[o("q-card-section",[o("q-bar",{staticClass:"bg-blue-5"},[o("q-icon",{attrs:{name:"local_pizza"}}),o("div",{staticStyle:{"padding-left":"40%"}},[t._v(t._s(t.foodToEdit.name))]),o("q-space"),o("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1),o("div",{staticClass:"row q-pa-lg"},[o("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:[{value:"grains",slot:"grains"},{value:"meat",slot:"meat"},{value:"vegetables",slot:"vegetables"},{value:"fruits",slot:"fruits"},{value:"dairy",slot:"dairy"},{value:"oils",slot:"oils"}]},scopedSlots:t._u([{key:"grains",fn:function(){return[o("div",{staticClass:"text-amber"},[t._v("\n            全穀雜糧類\n          ")])]},proxy:!0},{key:"meat",fn:function(){return[o("q-btn",{attrs:{flat:""},on:{click:function(e){t.sub="meat"}}},[o("div",{staticClass:"text-accent"},[t._v("\n              蛋、豆、魚、肉類\n            ")])])]},proxy:!0},{key:"vegetables",fn:function(){return[o("div",{staticClass:"text-positive"},[t._v("\n            蔬菜類\n          ")])]},proxy:!0},{key:"fruits",fn:function(){return[o("div",{staticClass:"text-orange"},[t._v("\n            水果類\n          ")])]},proxy:!0},{key:"dairy",fn:function(){return[o("q-btn",{staticStyle:{height:"100px",padding:"25px"},attrs:{flat:""},on:{click:function(e){t.sub="dairy"}}},[o("div",{staticClass:"text-info"},[t._v("\n              乳品類\n            ")])])]},proxy:!0},{key:"oils",fn:function(){return[o("div",{staticClass:"text-negative"},[t._v("\n            油脂與堅果類\n          ")])]},proxy:!0}]),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}})],1),o("div",{staticClass:"q-pr-lg q-pl-lg"},["grains"!=t.six&&"vegetables"!=t.six&&"fruits"!=t.six&&"oils"!=t.six&&""!=t.six?o("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:"meat"==t.sub?[{value:"meat_max",slot:"meat_max"},{value:"meat_high",slot:"meat_high"},{value:"meat_med",slot:"meat_med"},{value:"meat_low",slot:"meat_low"}]:[{value:"dairy_all",slot:"dairy_all"},{value:"dairy_low",slot:"dairy_low"},{value:"dairy_de",slot:"dairy_de"}]},scopedSlots:t._u([{key:"meat_max",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n            超高脂\n          ")])]},proxy:!0},{key:"meat_high",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n            高脂\n          ")])]},proxy:!0},{key:"meat_med",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n            中脂\n          ")])]},proxy:!0},{key:"meat_low",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n            低脂\n          ")])]},proxy:!0},{key:"dairy_all",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n            全脂\n          ")])]},proxy:!0},{key:"dairy_low",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n            低脂\n          ")])]},proxy:!0},{key:"dairy_de",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n            脱脂\n          ")])]},proxy:!0}],null,!1,564266420),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}}):t._e()],1)],1),o("div",{staticClass:"q-pa-sm"},[t.six?o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticStyle:{"max-width":"120px","padding-left":"30px"},attrs:{outlined:"",type:"text",label:"份數"},on:{input:function(e){t.value=t.handleValue(t.value)}},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.value=0}}})]},proxy:!0}],null,!1,3988327015),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),o("div",{staticClass:"row"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("modal-buttons",{staticClass:"q-pl-md",attrs:{label:"save"}})],1),o("q-btn",{staticClass:"q-pa-sm",staticStyle:{"margin-left":"330px","margin-top":"5px",height:"40px"},attrs:{label:"更改其他營養素",color:"negative"},on:{click:function(e){t.showEditNutrient=!0}}})],1),o("q-dialog",{attrs:{persistent:""},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-icon",{staticStyle:{"font-size":"40px"},attrs:{name:"error",color:"negative"}}),o("span",{staticClass:"q-ml-sm text-red"},[t._v("請輸入值 或 只選六大類")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok~",color:"primary"}})],1)],1)],1),o("q-dialog",{attrs:{persistent:""},model:{value:t.showEditNutrient,callback:function(e){t.showEditNutrient=e},expression:"showEditNutrient"}},[o("edit-nutrient",{attrs:{food:t.foodToEdit},on:{close:function(e){t.showEditNutrient=!1,t.$emit("close")}}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("7f7f"),o("c5f6"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("5c3a"),l=o("26c0"),d=o("5150");function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={mixins:[d["a"]],props:["foodToEdit"],directives:{selectAll:c["a"]},data:function(){return{six:"",value:0,sub:"",error:!1,showEditNutrient:!1}},methods:p({},Object(a["b"])("index",["updateSix"]),{handleValue:function(t){return Object(l["a"])(t)},sixFunctions:function(){"grains"==this.six?this.value=this.foodToEdit["carbs"]/15:"vegetables"==this.six?this.foodToEdit["carbs"]>4?this.value=this.foodToEdit["carbs"]/5:this.value=1:"oils"==this.six?this.value=this.foodToEdit["fat"]/5:"fruits"==this.six?this.value=this.foodToEdit["carbs"]/15:"meat"==this.six?(this.value=this.foodToEdit["protein"]/7,this.foodToEdit["fat"]>=10?this.six="meat_max":this.foodToEdit["fat"]>7.4?this.six="meat_high":this.foodToEdit["fat"]>3.4?this.six="meat_med":this.six="meat_low"):"dairy"==this.six?(this.value=this.foodToEdit["protein"]/8,this.foodToEdit["fat"]>=8?this.six="dairy_all":this.foodToEdit["fat"]<=1?this.six="dairy_de":this.six="dairy_low"):(this.error=!0,this.value=0)},submitForm:function(){var t=this;0==this.value&&this.sixFunctions(),this.error||(this.value=this.value.toFixed(2),Object.keys(this.foodToEdit).forEach((function(e){"grains"!=e&&"meat_low"!=e&&"vegetables"!=e&&"meat_med"!=e&&"meat_high"!=e&&"meat_max"!=e&&"fruits"!=e&&"dairy_all"!=e&&"oils"!=e&&"dairy_low"!=e&&"dairy_de"!=e||(t.foodToEdit[e]=0)})),this.foodToEdit[this.six]=Number(this.value),this.setTrack("edit_six",this.foodToEdit.name),this.updateSix(this.foodToEdit),this.$emit("close"))}}),components:{"modal-buttons":o("5638").default,"edit-nutrient":o("a136").default}},h=f,m=(o("dcf1"),o("2877")),b=o("fe09"),y=Object(m["a"])(h,n,i,!1,null,null,null);e["default"]=y.exports;y.options.components=Object.assign({QCard:b["g"],QCardSection:b["i"],QBar:b["d"],QIcon:b["o"],QSpace:b["A"],QBtn:b["e"],QBtnToggle:b["f"],QInput:b["q"],QDialog:b["j"],QCardActions:b["h"]},y.options.components||{}),y.options.directives=Object.assign({ClosePopup:b["a"]},y.options.directives||{})},"2cd7":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"col q-pt-md",staticStyle:{width:"445px"}},[o("div",{staticClass:"q-pt-md row"},[o("q-btn-toggle",{attrs:{"toggle-color":"primary","text-color":"blue",options:[{value:"add",icon:"add"},{value:"search",icon:"search"}]},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),o("span",{staticClass:"q-pa-sm text-blue-10"},[t._v("\n      新增或搜尋已有餐廳\n    ")])],1),"add"==t.type?o("q-input",{ref:"restaurant_id",attrs:{outlined:"",value:t.restaurant_id,rules:[function(t){return!!t||"Field is required"}],label:"餐廳"},on:{input:function(e){t.$emit("update:restaurant_id",e),t.$emit("newRestaurant")}},scopedSlots:t._u([{key:"append",fn:function(){return[t.restaurant_id?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:restaurant_id","")}}}):t._e()]},proxy:!0}],null,!1,3394889754)}):t._e(),"search"==t.type?o("q-select",{ref:"restaurant_id",attrs:{filled:"",value:t.restaurant_id,rules:[function(t){return!!t||"Field is required"}],label:"餐廳","use-input":"","input-debounce":"0",options:t.options},on:{input:function(e){return t.$emit("update:restaurant_id",e)},filter:t.filterRestaurant},scopedSlots:t._u([{key:"append",fn:function(){return[t.restaurant_id?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:restaurant_id","")}}}):t._e()]},proxy:!0},{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[t._v("\n          No results\n        ")])],1)]},proxy:!0}],null,!1,1574843164)}):t._e()],1)},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:["restaurant_id"],data:function(){return{type:"search",options:this.restaurant}},computed:l({},Object(a["d"])("index",["restaurant"])),methods:{filterRestaurant:function(t,e){var o=this;e(""!==t?function(){var e=t.toLowerCase();o.options=o.restaurant.filter((function(t){return t.toLowerCase().indexOf(e)>-1}))}:function(){o.options=o.restaurant})}}},u=d,p=o("2877"),f=o("fe09"),h=Object(p["a"])(u,n,i,!1,null,null,null);e["default"]=h.exports;h.options.components=Object.assign({QCard:f["g"],QBtnToggle:f["f"],QInput:f["q"],QIcon:f["o"],QSelect:f["y"],QItem:f["r"],QItemSection:f["t"]},h.options.components||{})},"2f8e":function(t,e,o){},"36c32":function(t,e,o){"use strict";var n=o("bd1d"),i=o.n(n);i.a},"45ab":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"col bg-grey-1",attrs:{outlined:"",label:"Search"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.searchField=""}},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.searchField?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.searchField=""}}}):t._e(),o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}})},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("386d"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("5c3a");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={directives:{selectAll:c["a"]},computed:d({},Object(a["d"])("index",["search"]),{searchField:{get:function(){return this.search},set:function(t){this.setSearch(t)}}}),methods:d({},Object(a["b"])("index",["setSearch"]))},p=u,f=o("2877"),h=o("fe09"),m=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QInput:h["q"],QIcon:h["o"]},m.options.components||{})},5150:function(t,e,o){"use strict";o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d");var n=o("c47a"),i=o.n(n),s=o("2f62");function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(o,!0).forEach((function(e){i()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}e["a"]={methods:a({},Object(s["b"])("track",["addTrack"]),{setTrack:function(t,e){var o={what:t,whom:e};this.addTrack(o)}})}},"555b":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-gutter-sm row",staticStyle:{width:"310px"}},[o("photo-upload",{directives:[{name:"show",rawName:"v-show",value:!t.uploaded,expression:"!uploaded"}],ref:"upload",attrs:{label:"Custom header"},scopedSlots:t._u([{key:"header",fn:function(e){return[e.isUploading?o("q-spinner",{staticClass:"q-uploader__spinner"}):t._e(),e.canAddFiles?o("q-btn",{staticClass:"text-left upload",staticStyle:{width:"100%","border-radius":"0px",height:"60px"},attrs:{dense:"",flat:"",icon:"perm_media"},on:{click:function(e){return t.$emit("haveFile")}}},[o("q-uploader-add-trigger"),o("div",{staticClass:"q-uploader__title",staticStyle:{padding:"10px"}},[t._v("\n          "+t._s(t.label.title)+"\n        ")]),o("q-tooltip",[t._v("選擇圖片檔案")])],1):t._e(),e.canUpload?o("q-btn",{staticStyle:{width:"100%"},attrs:{dense:"",flat:"",label:"請先點擊上傳",icon:"cloud_upload"},on:{click:function(e){t.$refs.upload.upload(t.label.type),t.uploaded=!0}}}):t._e()]}}])}),o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.uploaded,expression:"uploaded"}],staticClass:"text-primary",staticStyle:{"font-size":"80px"},attrs:{name:"check_circle"}})],1)},i=[],s={props:["label"],data:function(){return{uploaded:!1}},components:{"photo-upload":o("d443").default}},r=s,a=o("2877"),c=o("fe09"),l=Object(a["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QSpinner:c["B"],QUploader:c["M"],QBtn:c["e"],QUploaderAddTrigger:c["N"],QTooltip:c["L"],QIcon:c["o"]},l.options.components||{})},5638:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card-actions",{attrs:{align:"left"}},[o("q-btn",{staticStyle:{width:"70px"},attrs:{icon:t.icon,label:t.label,type:"submit",color:t.color?t.color:"blue-5"}})],1)},i=[],s={props:["icon","color","label"]},r=s,a=o("2877"),c=o("fe09"),l=Object(a["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QCardActions:c["h"],QBtn:c["e"]},l.options.components||{})},"5c3a":function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n={inserted:function(t){var e=t.querySelector(".q-field__native");e.addEventListener("focus",(function(){e.value.length&&e.select()}))}}},8070:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"full-width full-height bg-lime-2"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.handleContain()}}},[o("q-card-section",{staticClass:"row q-pa-md"},[o("search"),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){t.$emit("close"),t.clearSearch()}}})],1),o("q-card-section",t._l(t.foodQuantity,(function(e){return o("q-item",{directives:[{name:"show",rawName:"v-show",value:t.search&&t.foodQuantityFilter(e.name),expression:"search && foodQuantityFilter(dishFood.name)"}],key:e.id},[o("q-input",{attrs:{dense:"",label:"(幾百克)",type:"text"},on:{input:function(o){e.quantity=t.handleFoodQuantityType(e.quantity)}},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-tooltip",[t._v(t._s(e.description))]),o("div",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v("\n              "+t._s(e.name)+"\n            ")])]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:e.quantity,expression:"dishFood.quantity"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.quantity=0}}})]},proxy:!0}],null,!0),model:{value:e.quantity,callback:function(o){t.$set(e,"quantity",o)},expression:"dishFood.quantity"}})],1)})),1),o("q-card-section",{staticClass:"absolute-bottom"},[o("modal-buttons",{attrs:{icon:"add"}})],1)],1)])},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("7f7f"),o("386d"),o("6762"),o("2fdb"),o("c47a")),r=o.n(s),a=o("2f62");o("a481");function c(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),t}function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={props:["containToSubmit"],data:function(){return{newFood:!0,foodQuantity:[]}},computed:d({},Object(a["d"])("index",["search"]),{},Object(a["c"])("index",["food"])),methods:d({},Object(a["b"])("index",["clearSearch","setSearchType"]),{handleFoodQuantityType:function(t){return c(t)},handleContain:function(){for(var t=0;t<this.foodQuantity.length;t++){for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].food==this.foodQuantity[t].food&&(this.newFood=!1,this.foodQuantity[t].quantity<=0?this.containToSubmit.splice(e,1):this.containToSubmit[e].quantity=this.foodQuantity[t].quantity);this.newFood&&this.foodQuantity[t].quantity>0&&this.containToSubmit.push({food:this.foodQuantity[t].food,quantity:this.foodQuantity[t].quantity}),this.newFood=!0}this.clearSearch(),this.setSearchType("dishAdd"),this.$emit("showDishFood")},foodQuantityFilter:function(t){return!!t.includes(this.search)}}),components:{search:o("45ab").default,"modal-buttons":o("5638").default},created:function(){for(var t=0;t<this.food.length;t++)this.foodQuantity.push({food:this.food[t].id,name:this.food[t].name,description:this.food[t].description,quantity:0});if(this.containToSubmit.length)for(var e=0;e<this.containToSubmit.length;e++)for(var o=0;o<this.foodQuantity.length;o++)this.containToSubmit[e].food==this.foodQuantity[o].food&&(this.foodQuantity[o].quantity=this.containToSubmit[e].quantity,o=this.foodQuantity.lenght)}},p=u,f=(o("2374"),o("2877")),h=o("fe09"),m=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QCard:h["g"],QCardSection:h["i"],QBtn:h["e"],QItem:h["r"],QInput:h["q"],QTooltip:h["L"],QIcon:h["o"],QField:h["l"]},m.options.components||{}),m.options.directives=Object.assign({ClosePopup:h["a"]},m.options.directives||{})},"83a7":function(t,e,o){},"8a29":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-table",{staticClass:"dish-table",attrs:{title:"料理",data:t.dish,columns:t.dish_nutrient,"row-key":"id",selection:"single",selected:t.selected,pagination:t.pagination},on:{"update:selected":function(e){t.selected=e},selection:t.selectDish,"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return[o("q-th",{staticClass:"row"},[o("div",{staticClass:"text-blue-10",staticStyle:{"font-size":"22px"}},[o("q-icon",{attrs:{name:"restaurant",size:"25px"}}),t._v("\n          料理\n        ")],1),o("q-btn",{staticStyle:{"margin-left":"120px"},attrs:{color:t.showImg?"grey-6":"light-blue-7",label:t.showImg?"關閉照片":"顯示照片"},on:{click:function(e){t.showImg=!t.showImg}}}),o("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:t.showRecipe?"grey-6":"light-blue-7",label:t.showRecipe?"關閉食譜":"顯示食譜"},on:{click:function(e){return t.$emit("showRecipe")}}})],1)]}},{key:"body-cell-name",fn:function(e){return[o("q-td",{key:"name",staticClass:"dish-name",attrs:{props:e}},[o("q-btn",{attrs:{flat:""},on:{click:function(o){t.showEditDish=!0,t.selected=[],t.$emit("false"),t.setSelect(e.row.id)}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1)]}},{key:"body-cell-dish_photo",fn:function(e){return[o("q-td",[t.showImg?o("q-img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:e.row.dish_photo}}):t._e()],1)]}},{key:"body-cell-grains",fn:function(e){return[o("q-td",{key:"grains",attrs:{props:e}},[o("q-badge",{attrs:{color:"amber"}},[t._v("\n          "+t._s(e.row.grains)+"\n        ")])],1)]}},{key:"body-cell-fruits",fn:function(e){return[o("q-td",{key:"fruits",attrs:{props:e}},[o("q-badge",{attrs:{color:"orange"}},[t._v("\n          "+t._s(e.row.fruits)+"\n        ")])],1)]}},{key:"body-cell-vegetables",fn:function(e){return[o("q-td",{key:"vegetables",attrs:{props:e}},[o("q-badge",{attrs:{color:"green"}},[t._v("\n          "+t._s(e.row.vegetables)+"\n        ")])],1)]}},{key:"body-cell-oils",fn:function(e){return[o("q-td",{key:"oils",attrs:{props:e}},[o("q-badge",{attrs:{color:"red"}},[t._v("\n          "+t._s(e.row.oils)+"\n        ")])],1)]}},{key:"body-cell-dairy_all",fn:function(e){return[o("q-td",{key:"dairy_all",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_all)+"\n        ")])],1)]}},{key:"body-cell-dairy_low",fn:function(e){return[o("q-td",{key:"dairy_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_low)+"\n        ")])],1)]}},{key:"body-cell-dairy_de",fn:function(e){return[o("q-td",{key:"dairy_de",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_de)+"\n        ")])],1)]}},{key:"body-cell-meat_low",fn:function(e){return[o("q-td",{key:"meat_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_low)+"\n        ")])],1)]}},{key:"body-cell-meat_med",fn:function(e){return[o("q-td",{key:"meat_med",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_med)+"\n        ")])],1)]}},{key:"body-cell-meat_high",fn:function(e){return[o("q-td",{key:"meat_high",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_high)+"\n        ")])],1)]}},{key:"body-cell-meat_max",fn:function(e){return[o("q-td",{key:"meat_max",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_max)+"\n        ")])],1)]}}])}),o("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showEditDish,callback:function(e){t.showEditDish=e},expression:"showEditDish"}},[o("edit-dish",{attrs:{dish:t.dish},on:{close:function(e){t.setSelect(""),t.showEditDish=!1}}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("456d"),o("ac6a"),o("cadf"),o("06db"),o("c47a")),r=o.n(s),a=o("2f62");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:["showFood","showRecipe"],data:function(){return{selected:[],showImg:!1,showEditDish:!1,pagination:{sortBy:"name",rowsPerPage:20}}},computed:l({},Object(a["d"])("index",["dish_nutrient","search"]),{},Object(a["c"])("index",["dish"])),methods:l({},Object(a["b"])("index",["setSelect","setSearchType","clear"]),{selectDish:function(t){t.added?(this.setSelect(t.keys),this.$emit("true")):(this.setSelect(""),this.$emit("false"),this.selected=[])}}),components:{"edit-dish":o("c7fe").default},watch:{search:function(t,e){""==t&&this.selectDish("")}}},u=d,p=(o("36c32"),o("2877")),f=o("fe09"),h=Object(p["a"])(u,n,i,!1,null,null,null);e["default"]=h.exports;h.options.components=Object.assign({QTable:f["F"],QTh:f["I"],QIcon:f["o"],QBtn:f["e"],QTd:f["H"],QImg:f["p"],QBadge:f["b"],QDialog:f["j"]},h.options.components||{})},"8b24":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"q-pa-md absolute full-width column",style:"dish"==t.searchType?"background: #e6f9ff":"background: #e6ffe6"},[o("div",{staticClass:"q-pa-md row"},[o("q-btn",{staticClass:"all-pointer-events bg-blue-4",attrs:{outline:"",label:"新增料理",icon:"add"},on:{click:function(e){t.clear(),t.showAddDish=!0}}}),o("div",{staticStyle:{"padding-left":"40px"}},[o("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle"}},[t._v("搜尋類型")]),o("q-btn-toggle",{directives:[{name:"show",rawName:"v-show",value:!t.showFood,expression:"!showFood"}],attrs:{spread:"","no-caps":"","toggle-color":"blue-6","text-color":"black",color:"grey-2",options:[{label:"料理",value:"dish",icon:"restaurant",slot:"dish"},{label:"食材",value:"food",icon:"local_pizza",slot:"food"}]},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1),o("div",{staticClass:"q-pl-md row"},[o("search",{directives:[{name:"show",rawName:"v-show",value:!t.showFood,expression:"!showFood"}],staticStyle:{"max-width":"380px"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:"dish"==t.searchType&&t.showFood,expression:"searchType=='dish' && showFood"}],staticClass:"q-pa-md text-amber-10",staticStyle:{padding:"17px"}},[t._v("\n      如果要查詢其他項目，須先取消勾選\n    ")])],1),o("q-card",{staticClass:"my-card text-white full-width bg-blue-grey-4"},[o("dish-table",{directives:[{name:"show",rawName:"v-show",value:t.search&&"dish"==t.searchType,expression:"search && searchType=='dish'"}],attrs:{showFood:t.showFood,showRecipe:t.showRecipe},on:{true:function(e){t.showFood=!0},false:function(e){t.showFood=!1},showRecipe:function(e){t.showRecipe=!t.showRecipe}}}),t.showFood?o("hr",{attrs:{color:"black"}}):t._e(),"food"==t.searchType||t.showFood?o("food-table"):t._e(),t.showRecipe&&t.showFood?o("hr",{attrs:{color:"black"}}):t._e(),t.showRecipe&&t.showFood?o("recipe-table",{staticClass:"col"}):t._e()],1),o("q-dialog",{model:{value:t.showAddDish,callback:function(e){t.showAddDish=e},expression:"showAddDish"}},[o("add-dish",{on:{close:function(e){t.showAddDish=!1}}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62");o("436b");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={name:"PageIndex",data:function(){return{showFood:!1,showRecipe:!1,showAddDish:!1}},computed:l({},Object(a["d"])("index",["searchType","search"]),{type:{get:function(){return this.searchType},set:function(t){this.setSearchType(t)}}}),methods:l({},Object(a["b"])("index",["setSearchType","clearSearch","fbReadData","clear"])),components:{search:o("45ab").default,"dish-table":o("8a29").default,"food-table":o("c181").default,"recipe-table":o("b294").default,"add-dish":o("d438").default}},u=d,p=o("2877"),f=o("fe09"),h=Object(p["a"])(u,n,i,!1,null,null,null);e["default"]=h.exports;h.options.components=Object.assign({QPage:f["w"],QBtn:f["e"],QTooltip:f["L"],QBtnToggle:f["f"],QCard:f["g"],QDialog:f["j"]},h.options.components||{})},"99de":function(t,e,o){},a136:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticStyle:{background:"#F8F8FF"}},[o("q-card-section",[o("q-bar",{staticClass:"bg-red-5"},[o("q-icon",{attrs:{name:"local_pizza"}}),o("div",{staticStyle:{"margin-left":"40%"}},[t._v(t._s(t.food.name))]),o("q-space"),o("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1)],1),o("q-card-section",{staticClass:"row"},t._l(t.nutrient,(function(e,n){return o("q-item",{key:n},[o("div",{staticStyle:{width:"230px"}},[o("q-input",{attrs:{dense:"",outlined:"",type:"text"},on:{input:function(o){t.food[e]=t.handleNutrient(t.food[e])}},scopedSlots:t._u([{key:"before",fn:function(){return[o("div",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v("\n              "+t._s(t.nutrientChinese[e])+"\n            ")])]},proxy:!0},{key:"append",fn:function(){return[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.food[e],expression:"food[nut]"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(o){t.food[e]=0}}})]},proxy:!0}],null,!0),model:{value:t.food[e],callback:function(o){t.$set(t.food,e,o)},expression:"food[nut]"}})],1)])})),1),o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("modal-buttons",{staticClass:"q-pl-md",attrs:{label:"save"}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("7f7f"),o("c5f6"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("f751"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("26c0"),l=o("5150");function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var p={mixins:[l["a"]],props:["food"],data:function(){return{nutrientToSubmit:[]}},computed:u({},Object(a["d"])("index",["nutrient","nutrientChinese"])),methods:u({},Object(a["b"])("index",["updateNutrient"]),{handleNutrient:function(t){return Object(c["a"])(t)},submitForm:function(){var t=this;this.nutrientToSubmit=Object.assign({},this.nutrient),Object.keys(this.nutrient).forEach((function(e){""==t.food[e]&&(t.food[e]=0),t.nutrientToSubmit[e]=Number(t.food[e])})),this.nutrientToSubmit.id=this.food.id,this.setTrack("edit_nut",this.food.name),this.updateNutrient(this.nutrientToSubmit),this.$emit("close")}}),components:{"modal-buttons":o("5638").default}},f=p,h=o("2877"),m=o("fe09"),b=Object(h["a"])(f,n,i,!1,null,null,null);e["default"]=b.exports;b.options.components=Object.assign({QCard:m["g"],QCardSection:m["i"],QBar:m["d"],QIcon:m["o"],QSpace:m["A"],QBtn:m["e"],QItem:m["r"],QInput:m["q"]},b.options.components||{})},ae59:function(t,e,o){"use strict";var n=o("83a7"),i=o.n(n);i.a},b294:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row q-pt-md"},[o("q-card",{staticStyle:{"max-width":"300px",background:"radial-gradient(circle, #35a2ff 0%, #3366ff 100%)"},attrs:{dense:"",title:"食譜"}},[o("img",{attrs:{src:t.photo()}}),o("q-card-section",[t._v("\n      "+t._s(t.recipe.text)+"\n    ")])],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={computed:l({},Object(a["c"])("index",["recipe"])),methods:{photo:function(){return"無"!=this.recipe.photo&&this.recipe.photo?this.recipe.photo:""}}},u=d,p=o("2877"),f=o("fe09"),h=Object(p["a"])(u,n,i,!1,null,null,null);e["default"]=h.exports;h.options.components=Object.assign({QCard:f["g"],QCardSection:f["i"]},h.options.components||{})},b5df:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col q-pt-md",staticStyle:{"margin-left":"45px"}},[o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"bg-blue-grey-2",staticStyle:{width:"445px"},attrs:{filled:"",value:t.recipe,type:"textarea",label:"食譜"},on:{input:function(e){return t.$emit("update:recipe",e)}}}),o("modal-photo",{ref:"modalPhoto",staticStyle:{"margin-top":"5px"},attrs:{label:t.label}})],1)},i=[],s=o("5c3a"),r={props:["recipe"],directives:{selectAll:s["a"]},data:function(){return{label:{type:"recipes",title:"食譜的照片"}}},components:{"modal-photo":o("555b").default}},a=r,c=o("2877"),l=o("fe09"),d=Object(c["a"])(a,n,i,!1,null,null,null);e["default"]=d.exports;d.options.components=Object.assign({QInput:l["q"]},d.options.components||{})},bd1d:function(t,e,o){},c181:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-table",{staticClass:"sticky-header-column-table",attrs:{title:"食材",data:"dishAdd"==t.searchType?t.foodList:t.food,columns:t.food_nutrient,"row-key":"id",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return[o("q-th",{staticClass:"row"},[o("div",{staticClass:"text-cyan-10 bg-white",staticStyle:{"font-size":"22px"}},[o("q-icon",{attrs:{name:"local_pizza",size:"25px"}}),t._v("\n          食材\n        ")],1)])]}},{key:"body-cell-name",fn:function(e){return[o("q-td",{key:"name",attrs:{props:e}},[o("q-tooltip",[t._v("\n          "+t._s(e.row.description)+"\n        ")]),o("q-btn",{attrs:{flat:"",disable:"dish"==t.searchType},on:{click:function(o){return t.editFood(e.row)}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1)]}},{key:"body-cell-grains",fn:function(e){return[o("q-td",{key:"grains",attrs:{props:e}},[o("q-badge",{attrs:{color:"amber"}},[t._v("\n          "+t._s(e.row.grains)+"\n        ")])],1)]}},{key:"body-cell-fruits",fn:function(e){return[o("q-td",{key:"fruits",attrs:{props:e}},[o("q-badge",{attrs:{color:"orange"}},[t._v("\n          "+t._s(e.row.fruits)+"\n        ")])],1)]}},{key:"body-cell-vegetables",fn:function(e){return[o("q-td",{key:"vegetables",attrs:{props:e}},[o("q-badge",{attrs:{color:"positive"}},[t._v("\n          "+t._s(e.row.vegetables)+"\n        ")])],1)]}},{key:"body-cell-oils",fn:function(e){return[o("q-td",{key:"oils",attrs:{props:e}},[o("q-badge",{attrs:{color:"negative"}},[t._v("\n          "+t._s(e.row.oils)+"\n        ")])],1)]}},{key:"body-cell-dairy_all",fn:function(e){return[o("q-td",{key:"dairy_all",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_all)+"\n        ")])],1)]}},{key:"body-cell-dairy_low",fn:function(e){return[o("q-td",{key:"dairy_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_low)+"\n        ")])],1)]}},{key:"body-cell-dairy_de",fn:function(e){return[o("q-td",{key:"dairy_de",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_de)+"\n        ")])],1)]}},{key:"body-cell-meat_low",fn:function(e){return[o("q-td",{key:"meat_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_low)+"\n        ")])],1)]}},{key:"body-cell-meat_med",fn:function(e){return[o("q-td",{key:"meat_med",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_med)+"\n        ")])],1)]}},{key:"body-cell-meat_high",fn:function(e){return[o("q-td",{key:"meat_high",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_high)+"\n        ")])],1)]}},{key:"body-cell-meat_max",fn:function(e){return[o("q-td",{key:"meat_max",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_max)+"\n        ")])],1)]}}])}),o("q-dialog",{model:{value:t.showEditFood,callback:function(e){t.showEditFood=e},expression:"showEditFood"}},[o("edit-six",{attrs:{foodToEdit:t.foodToEdit},on:{close:function(e){t.showEditFood=!1}}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("f751"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("cab7");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={props:["containToSubmit","dishToSubmit"],data:function(){return{foodList:[],showEditFood:!1,foodToEdit:"",pagination:{sortBy:"name",rowsPerPage:20}}},computed:d({},Object(a["d"])("index",["food_nutrient","searchType"]),{},Object(a["c"])("index",["food"])),methods:{editFood:function(t){this.showEditFood=!0,this.foodToEdit=Object.assign({},t)}},components:{"edit-six":o("2b5f").default},mounted:function(){"dishAdd"==this.searchType&&(this.foodList=Object(c["a"])(this.containToSubmit,this.food))}},p=u,f=(o("ae59"),o("2877")),h=o("fe09"),m=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QTable:h["F"],QTh:h["I"],QIcon:h["o"],QTd:h["H"],QTooltip:h["L"],QBtn:h["e"],QBadge:h["b"],QDialog:h["j"]},m.options.components||{})},c64e:function(t,e,o){var n=o("e1f4"),i=o("2366");function s(t,e,o){var s=e&&o||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;a<16;++a)e[s+a]=r[a];return e||i(r)}t.exports=s},c7fe:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"my-card full-width",staticStyle:{background:"#F8F8FF"}},[o("q-card-section",{staticClass:"text-right"},[o("q-icon",{staticClass:"text-negative ",staticStyle:{"font-size":"30px"},attrs:{name:"notification_important"}}),o("span",{staticClass:"text-negative",staticStyle:{"padding-right":"100px"}},[t._v("如果沒有要更改照片，則不須上傳")]),o("q-btn",{attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){return t.$emit("close")}}})],1),o("q-card-section",{staticClass:"row",staticStyle:{"padding-left":"60px"}},[o("modal-dish-name",{ref:"modalDishName",attrs:{name:t.dishToSubmit.name},on:{"update:name":function(e){return t.$set(t.dishToSubmit,"name",e)}}}),o("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[o("modal-photo",{ref:"modalPhoto",attrs:{label:t.label}}),o("div",{staticClass:"col",staticStyle:{"margin-left":"22px"}},[o("q-btn",{attrs:{label:"組成食材",icon:"library_add",outline:"",color:t.containError?"negative":"primary",type:"submit"},on:{click:function(e){t.showDishFood=!0,t.setSearchType(""),t.clearSearch()}}}),o("modal-dish-person",{ref:"modalDishPerson",attrs:{person:t.dishToSubmit.person},on:{"update:person":function(e){return t.$set(t.dishToSubmit,"person",e)}}})],1)],1),o("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showDishFood,callback:function(e){t.showDishFood=e},expression:"showDishFood"}},[o("modal-dish-food",{ref:"modalDishFood",attrs:{containToSubmit:t.containToSubmit},on:{showDishFood:function(e){t.showDishFood=!1},close:function(e){t.containToSubmit&&t.setSearchType("dishAdd")}}})],1)],1),o("q-card-section",{staticStyle:{"margin-left":"44px","margin-top":"30px"}},[o("modal-dish-restaurant",{ref:"modalDishRestaurant",attrs:{restaurant_id:t.dishToSubmit.restaurant_id},on:{"update:restaurant_id":function(e){return t.$set(t.dishToSubmit,"restaurant_id",e)},newRestaurant:function(e){t.newRestaurant=!0}}})],1),o("q-card-section",[o("modal-dish-recipe",{ref:"modalDishRecipe",attrs:{recipe:t.recipeToSubmit.text},on:{"update:recipe":function(e){return t.$set(t.recipeToSubmit,"text",e)}}})],1),o("div",{staticClass:"col q-pa-md"},[t.showDishFood?t._e():o("food-table",{attrs:{containToSubmit:t.containToSubmit,dishToSubmit:t.dishToSubmit}})],1),o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("modal-buttons",{attrs:{label:t.label.save}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("f751"),o("7f7f"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("1f3f"),l=o("5150"),d=o("cab7");function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={mixins:[c["a"],l["a"]],props:["dish"],data:function(){return{newRestaurant:!1,label:{type:"dishs",title:"料理的照片",save:"save"},showDishFood:!1,containError:!1,dishToSubmit:{},containToSubmit:[],recipeToSubmit:"",foodList:[]}},computed:p({},Object(a["d"])("index",["select","dish_photo","recipe_photo"]),{},Object(a["c"])("index",["recipe","food","contain"])),methods:p({},Object(a["b"])("index",["clear","setSearch","setSearchType","setSelect","clearSearch","updateDish","deleteContain","deletePhoto","addRecipe","updateRecipe","addRestaurant","addContain"]),{submitDish:function(){var t=this;this.foodList=Object(d["a"])(this.containToSubmit,this.food),Object.keys(this.dishToSubmit).forEach((function(e){"name"!=e&&"restaurant_id"!=e&&"dish_photo"!=e&&"id"!=e&&"number"!=e&&"person"!=e&&(t.dishToSubmit[e]=t.foodList[t.foodList.length-1][e])})),"無"!=this.dish_photo&&("無"!=this.dishToSubmit.dish_photo&&this.deletePhoto(this.dishToSubmit.dish_photo),this.dishToSubmit.dish_photo=this.dish_photo),"無"!=this.recipe_photo&&("無"!=this.recipeToSubmit.photo&&this.deletePhoto(this.recipeToSubmit.photo),this.recipeToSubmit.photo=this.recipe_photo),this.updateDish(this.dishToSubmit),this.newRestaurant&&this.addRestaurant(this.dishToSubmit.restaurant_id),this.deleteContain(this.dishToSubmit.id);for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].dish=this.dishToSubmit.id;this.addContain(this.containToSubmit),this.recipeToSubmit.text&&(this.recipeToSubmit.id?this.updateRecipe(this.recipeToSubmit):(this.recipeToSubmit.dish=this.dishToSubmit.id,this.addRecipe(this.recipeToSubmit))),this.setTrack("edit_dish",this.dishToSubmit.name),this.clear(),this.setSearchType("dish"),this.setSearch(this.dishToSubmit.name),this.$emit("close")}}),mounted:function(){this.recipeToSubmit=Object.assign({},this.recipe);for(var t=0;t<this.contain.length;t++)this.containToSubmit.push(Object.assign({},this.contain[t]));for(var e=0;e<this.dish.length;e++)this.dish[e].id==this.select&&(this.dishToSubmit=Object.assign({},this.dish[e]),delete this.dishToSubmit.__index)},watch:{containToSubmit:function(t,e){t&&(this.containError=!1)}}},h=f,m=o("2877"),b=o("fe09"),y=Object(m["a"])(h,n,i,!1,null,null,null);e["default"]=y.exports;y.options.components=Object.assign({QCard:b["g"],QCardSection:b["i"],QIcon:b["o"],QBtn:b["e"],QDialog:b["j"]},y.options.components||{})},d438:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"my-card text-white full-width",staticStyle:{background:"#F8F8FF"}},[o("q-card-section",{staticClass:"text-right"},[o("span",{staticClass:"text-primary",staticStyle:{"padding-right":"70px"}},[t._v("新增料理（照片選取好後，記得先點擊上傳）。")]),o("q-btn",{attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){t.$emit("close"),t.setSearchType("dish")}}})],1),o("q-card-section",{staticClass:"row",staticStyle:{"padding-left":"60px"}},[o("modal-dish-name",{ref:"modalDishName",attrs:{name:t.dishToSubmit.name},on:{"update:name":function(e){return t.$set(t.dishToSubmit,"name",e)}}}),o("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[o("modal-photo",{ref:"modalPhoto",attrs:{label:t.label}}),o("div",{staticClass:"col",staticStyle:{"margin-left":"22px"}},[o("q-btn",{staticStyle:{height:"50px"},attrs:{label:"組成食材",icon:"library_add",outline:"",color:t.containError?"negative":"primary",type:"submit"},on:{click:function(e){t.showDishFood=!0,t.setSearchType("")}}}),o("modal-dish-person",{ref:"modalDishPerson",attrs:{person:t.dishToSubmit.person},on:{"update:person":function(e){return t.$set(t.dishToSubmit,"person",e)}}})],1)],1),o("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showDishFood,callback:function(e){t.showDishFood=e},expression:"showDishFood"}},[o("modal-dish-food",{ref:"modalDishFood",attrs:{containToSubmit:t.containToSubmit},on:{showDishFood:function(e){t.showDishFood=!1},close:function(e){t.containToSubmit&&t.setSearchType("dishAdd")}}})],1)],1),o("q-card-section",{staticStyle:{"margin-left":"44px","margin-top":"30px"}},[o("modal-dish-restaurant",{ref:"modalDishRestaurant",attrs:{restaurant_id:t.dishToSubmit.restaurant_id},on:{"update:restaurant_id":function(e){return t.$set(t.dishToSubmit,"restaurant_id",e)},newRestaurant:function(e){t.newRestaurant=!0}}})],1),o("q-card-section",[o("modal-dish-recipe",{ref:"modalDishRecipe",attrs:{recipe:t.recipeToSubmit.text},on:{"update:recipe":function(e){return t.$set(t.recipeToSubmit,"text",e)}}})],1),o("div",{staticClass:"col q-pa-md"},[!t.showDishFood&&t.containToSubmit.length?o("food-table",{attrs:{containToSubmit:t.containToSubmit,dishToSubmit:t.dishToSubmit}}):t._e()],1),o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("modal-buttons",{attrs:{label:t.label.save}})],1)],1)},i=[],s=(o("8e6e"),o("8a81"),o("7f7f"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),r=o.n(s),a=o("2f62"),c=o("1f3f"),l=o("5150"),d=o("cab7");function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={mixins:[c["a"],l["a"]],data:function(){return{newRestaurant:!1,label:{type:"dishs",title:"料理的照片",save:"Save",cancel:"back"},showDishFood:!1,containError:!1,dishToSubmit:{name:"",person:"",number:"",restaurant_id:"",dish_photo:"",calories:"",fat:"",protein:"",carbs:"",grains:"",fruits:"",vegetables:"",oils:"",dairy_all:0,dairy_low:0,dairy_de:0,meat_low:0,meat_med:0,meat_high:0,meat_max:0,dietary_fiber:"",total_sugar:"",sodium:"",potassium:"",calcium:"",magnesium:"",iron:"",zinc:"",phosphorus:"",vitaminA:"",vision_alcohol:"",vitaminE:"",vitaminB1:"",vitaminB2:"",vitaminB6:"",vitaminB12:"",vitaminC:"",nicotin:"",folic_acid:"",fatty_acidS:"",fatty_acidM:"",fatty_acidP:"",cholesterol:""},containToSubmit:[],recipeToSubmit:{dish:"",photo:"",text:""},foodList:[]}},computed:p({},Object(a["d"])("index",["dish","dish_id","dish_photo","recipe_photo"]),{},Object(a["c"])("index",["food"])),methods:p({},Object(a["b"])("index",["clear","addDish","addContain","addRecipe","setSearchType","setSearch","addRestaurant"]),{submitDish:function(){var t=this;this.foodList=Object(d["a"])(this.containToSubmit,this.food),Object.keys(this.dishToSubmit).forEach((function(e){"name"!=e&&"restaurant_id"!=e&&"dish_photo"!=e&&"id"!=e&&"number"!=e&&"person"!=e&&(t.dishToSubmit[e]=t.foodList[t.foodList.length-1][e])})),this.dishToSubmit.dish_photo=this.dish_photo,this.recipeToSubmit.photo=this.recipe_photo,this.addDish(this.dishToSubmit),this.newRestaurant&&this.addRestaurant(this.dishToSubmit.restaurant_id);for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].dish=this.dish_id;this.addContain(this.containToSubmit),this.recipeToSubmit.text&&(this.recipeToSubmit.dish=this.dish_id,this.addRecipe(this.recipeToSubmit)),this.setTrack("add_dish",this.dishToSubmit.name),this.clear(),this.setSearchType("dish"),this.setSearch(this.dishToSubmit.name),this.$emit("close")}}),watch:{containToSubmit:function(t,e){t&&(this.containError=!1)}}},h=f,m=o("2877"),b=o("fe09"),y=Object(m["a"])(h,n,i,!1,null,null,null);e["default"]=y.exports;y.options.components=Object.assign({QCard:b["g"],QCardSection:b["i"],QBtn:b["e"],QDialog:b["j"]},y.options.components||{})},d443:function(t,e,o){"use strict";o.r(e);o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d");var n=o("c47a"),i=o.n(n),s=o("3a82"),r=(o("a639"),o("59ca")),a=o.n(r),c=o("c64e"),l=o.n(c),d=o("2f62");function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(o,!0).forEach((function(e){i()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f,h,m={name:"myloader",mixins:[s["a"]],data:function(){return{photo:{type:"",url:""}}},methods:p({},Object(d["b"])("index",["addDownloadURL"]),{upload:function(t){var e=this;this.files.forEach((function(o){var n=t+"/".concat(l()()),i=a.a.storage().ref().child(n).put(o);i.on("state_changed",(function(t){e.uploadSize=t.totalBytes,e.uploadedSize=t.bytesTransferred}),null,(function(){i.snapshot.ref.getDownloadURL().then((function(n){e.photo.type=t,e.photo.url=n,e.addDownloadURL(e.photo),e.removeFile(o)}))}))}))}})},b=m,y=o("2877"),v=Object(y["a"])(b,f,h,!1,null,null,null);e["default"]=v.exports},dcf1:function(t,e,o){"use strict";var n=o("2f8e"),i=o.n(n);i.a},e1f4:function(t,e){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var n=new Uint8Array(16);t.exports=function(){return o(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},f283:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row q-mt-md"},[o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],ref:"name",staticStyle:{width:"450px"},attrs:{outlined:"",value:t.name,rules:[function(t){return!!t||"Field is required"}],autofocus:"",label:"料理名稱"},on:{input:function(e){return t.$emit("update:name",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[t.name?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:name","")}}}):t._e()]},proxy:!0}])})],1)},i=[],s=o("5c3a"),r={props:["name"],directives:{selectAll:s["a"]}},a=r,c=o("2877"),l=o("fe09"),d=Object(c["a"])(a,n,i,!1,null,null,null);e["default"]=d.exports;d.options.components=Object.assign({QInput:l["q"],QIcon:l["o"]},d.options.components||{})}}]);