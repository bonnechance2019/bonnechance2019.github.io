/*! For license information please see c432d9c8.cbb48da0.js.LICENSE */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["c432d9c8"],{"16e8":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{staticClass:"q-pt-md",staticStyle:{width:"125px"},attrs:{outlined:"",value:t.person,type:"number",rules:[function(t){return!!t||"required"}],label:"人份"},on:{input:function(e){return t.$emit("update:person",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.person,expression:"person"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:person","")}}})]},proxy:!0}])})},o=[],i={props:["person"]},a=i,s=n("2877"),c=n("fe09"),u=Object(s["a"])(a,r,o,!1,null,null,null);e["default"]=u.exports;u.options.components=Object.assign({QInput:c["q"],QIcon:c["o"]},u.options.components||{})},"1f3f":function(t,e,n){"use strict";n("7f7f");e["a"]={methods:{submitForm:function(){this.$refs.modalDishName.$refs.name.validate(),this.$refs.modalDishRestaurant.$refs.restaurant_id.validate(),this.containToSubmit.length?this.$refs.modalDishName.$refs.name.hasError||this.$refs.modalDishRestaurant.$refs.restaurant_id.hasError||this.submitDish():this.containError=!0},clearDish:function(){}},components:{"modal-buttons":n("5638").default,"modal-dish-name":n("f283").default,"modal-photo":n("555b").default,"modal-dish-restaurant":n("2cd7").default,"modal-dish-food":n("8070").default,"modal-dish-recipe":n("b5df").default,"modal-dish-person":n("16e8").default,"food-table":n("c181").default}}},2366:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function o(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}t.exports=o},2374:function(t,e,n){"use strict";var r=n("99de"),o=n.n(r);o.a},"26c0":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a481");function r(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),t}},"2b5f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"full-width",staticStyle:{background:"#F8F8FF"}},[n("q-card-section",[n("q-bar",{staticClass:"bg-blue-5"},[n("q-icon",{attrs:{name:"local_pizza"}}),n("div",{staticStyle:{"padding-left":"40%"}},[t._v(t._s(t.foodToEdit.name))]),n("q-space"),n("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1),n("div",{staticClass:"row q-pa-lg"},[n("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:[{value:"grains",slot:"grains"},{value:"meat",slot:"meat"},{value:"vegetables",slot:"vegetables"},{value:"fruits",slot:"fruits"},{value:"dairy",slot:"dairy"},{value:"oils",slot:"oils"}]},scopedSlots:t._u([{key:"grains",fn:function(){return[n("div",{staticClass:"text-amber"},[t._v("\n            全穀雜糧類\n          ")])]},proxy:!0},{key:"meat",fn:function(){return[n("q-btn",{attrs:{flat:""},on:{click:function(e){t.sub="meat"}}},[n("div",{staticClass:"text-accent"},[t._v("\n              蛋、豆、魚、肉類\n            ")])])]},proxy:!0},{key:"vegetables",fn:function(){return[n("div",{staticClass:"text-positive"},[t._v("\n            蔬菜類\n          ")])]},proxy:!0},{key:"fruits",fn:function(){return[n("div",{staticClass:"text-orange"},[t._v("\n            水果類\n          ")])]},proxy:!0},{key:"dairy",fn:function(){return[n("q-btn",{staticStyle:{height:"100px",padding:"25px"},attrs:{flat:""},on:{click:function(e){t.sub="dairy"}}},[n("div",{staticClass:"text-info"},[t._v("\n              乳品類\n            ")])])]},proxy:!0},{key:"oils",fn:function(){return[n("div",{staticClass:"text-negative"},[t._v("\n            油脂與堅果類\n          ")])]},proxy:!0}]),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}})],1),n("div",{staticClass:"q-pr-lg q-pl-lg"},["grains"!=t.six&&"vegetables"!=t.six&&"fruits"!=t.six&&"oils"!=t.six&&""!=t.six?n("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:"meat"==t.sub?[{value:"meat_max",slot:"meat_max"},{value:"meat_high",slot:"meat_high"},{value:"meat_med",slot:"meat_med"},{value:"meat_low",slot:"meat_low"}]:[{value:"dairy_all",slot:"dairy_all"},{value:"dairy_low",slot:"dairy_low"},{value:"dairy_de",slot:"dairy_de"}]},scopedSlots:t._u([{key:"meat_max",fn:function(){return[n("div",{staticClass:"text-accent"},[t._v("              \n            超高脂\n          ")])]},proxy:!0},{key:"meat_high",fn:function(){return[n("div",{staticClass:"text-accent"},[t._v("              \n            高脂\n          ")])]},proxy:!0},{key:"meat_med",fn:function(){return[n("div",{staticClass:"text-accent"},[t._v("              \n            中脂\n          ")])]},proxy:!0},{key:"meat_low",fn:function(){return[n("div",{staticClass:"text-accent"},[t._v("              \n            低脂\n          ")])]},proxy:!0},{key:"dairy_all",fn:function(){return[n("div",{staticClass:"text-info"},[t._v("              \n            全脂\n          ")])]},proxy:!0},{key:"dairy_low",fn:function(){return[n("div",{staticClass:"text-info"},[t._v("              \n            低脂\n          ")])]},proxy:!0},{key:"dairy_de",fn:function(){return[n("div",{staticClass:"text-info"},[t._v("              \n            脱脂\n          ")])]},proxy:!0}],null,!1,564266420),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}}):t._e()],1)],1),n("div",{staticClass:"q-pa-sm"},[t.six?n("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticStyle:{"max-width":"120px","padding-left":"30px"},attrs:{outlined:"",type:"text",label:"份數"},on:{input:function(e){t.value=t.handleValue(t.value)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.value=0}}})]},proxy:!0}],null,!1,3988327015),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),n("div",{staticClass:"row"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("modal-buttons",{staticClass:"q-pl-md",attrs:{label:"save"}})],1),n("q-btn",{staticClass:"q-pa-sm",staticStyle:{"margin-left":"330px","margin-top":"5px",height:"40px"},attrs:{label:"更改其他營養素",color:"negative"},on:{click:function(e){t.showEditNutrient=!0}}})],1),n("q-dialog",{attrs:{persistent:""},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[n("q-card",[n("q-card-section",{staticClass:"row items-center"},[n("q-icon",{staticStyle:{"font-size":"40px"},attrs:{name:"error",color:"negative"}}),n("span",{staticClass:"q-ml-sm text-red"},[t._v("請輸入值 或 只選六大類")])],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok~",color:"primary"}})],1)],1)],1),n("q-dialog",{attrs:{persistent:""},model:{value:t.showEditNutrient,callback:function(e){t.showEditNutrient=e},expression:"showEditNutrient"}},[n("edit-nutrient",{attrs:{food:t.foodToEdit},on:{close:function(e){t.showEditNutrient=!1,t.$emit("close")}}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("c5f6"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("5c3a"),u=n("26c0");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={props:["foodToEdit"],directives:{selectAll:c["a"]},data:function(){return{six:"",value:0,sub:"",error:!1,showEditNutrient:!1}},methods:d({},Object(s["b"])("index",["updateSix"]),{handleValue:function(t){return Object(u["a"])(t)},sixFunctions:function(){"grains"==this.six?this.value=this.foodToEdit["carbs"]/15:"vegetables"==this.six?this.foodToEdit["carbs"]>4?this.value=this.foodToEdit["carbs"]/5:this.value=1:"oils"==this.six?this.value=this.foodToEdit["fat"]/5:"fruits"==this.six?this.value=this.foodToEdit["carbs"]/15:"meat"==this.six?(this.value=this.foodToEdit["protein"]/7,this.foodToEdit["fat"]>11?this.six="meat_max":this.foodToEdit["fat"]>=9?this.six="meat_high":this.foodToEdit["fat"]>=4?this.six="meat_med":this.six="meat_low"):"dairy"==this.six?(this.value=this.foodToEdit["protein"]/8,this.foodToEdit["fat"]>=8?this.six="dairy_all":this.foodToEdit["fat"]<=1?this.six="dairy_de":this.six="dairy_low"):(this.error=!0,this.value=0)},submitForm:function(){var t=this;0==this.value&&this.sixFunctions(),this.error||(this.value=this.value.toFixed(2),Object.keys(this.foodToEdit).forEach((function(e){"grains"!=e&&"meat_low"!=e&&"vegetables"!=e&&"meat_med"!=e&&"meat_high"!=e&&"meat_max"!=e&&"fruits"!=e&&"dairy_all"!=e&&"oils"!=e&&"dairy_low"!=e&&"dairy_de"!=e||(t.foodToEdit[e]=0)})),this.foodToEdit[this.six]=Number(this.value),this.updateSix(this.foodToEdit),this.$emit("close"))}}),components:{"modal-buttons":n("5638").default,"edit-nutrient":n("a136").default}},h=p,f=(n("dcf1"),n("2877")),m=n("fe09"),b=Object(f["a"])(h,r,o,!1,null,null,null);e["default"]=b.exports;b.options.components=Object.assign({QCard:m["g"],QCardSection:m["i"],QBar:m["d"],QIcon:m["o"],QSpace:m["B"],QBtn:m["e"],QBtnToggle:m["f"],QInput:m["q"],QDialog:m["j"],QCardActions:m["h"]},b.options.components||{}),b.options.directives=Object.assign({ClosePopup:m["a"]},b.options.directives||{})},"2cd7":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"col q-pt-md",staticStyle:{width:"445px"}},[n("div",{staticClass:"q-pt-md"},[n("q-btn-toggle",{attrs:{"toggle-color":"primary","text-color":"blue",options:[{value:"add",icon:"add"},{value:"search",icon:"search"}]},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),"add"==t.type?n("q-input",{ref:"restaurant_id",attrs:{outlined:"",value:t.restaurant_id,rules:[function(t){return!!t||"Field is required"}],label:"餐廳"},on:{input:function(e){t.$emit("update:restaurant_id",e),t.$emit("newRestaurant")}},scopedSlots:t._u([{key:"append",fn:function(){return[t.restaurant_id?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:restaurant_id","")}}}):t._e()]},proxy:!0}],null,!1,3394889754)}):t._e(),"search"==t.type?n("q-select",{ref:"restaurant_id",attrs:{filled:"",value:t.restaurant_id,rules:[function(t){return!!t||"Field is required"}],label:"餐廳","use-input":"","input-debounce":"0",options:t.options},on:{input:function(e){return t.$emit("update:restaurant_id",e)},filter:t.filterRestaurant},scopedSlots:t._u([{key:"append",fn:function(){return[t.restaurant_id?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:restaurant_id","")}}}):t._e()]},proxy:!0},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[t._v("\n          No results\n        ")])],1)]},proxy:!0}],null,!1,1574843164)}):t._e()],1)},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={props:["restaurant_id"],data:function(){return{type:"search",options:this.restaurant}},computed:u({},Object(s["d"])("index",["restaurant"])),methods:{filterRestaurant:function(t,e){var n=this;e(""!==t?function(){var e=t.toLowerCase();n.options=n.restaurant.filter((function(t){return t.toLowerCase().indexOf(e)>-1}))}:function(){n.options=n.restaurant})}}},d=l,p=n("2877"),h=n("fe09"),f=Object(p["a"])(d,r,o,!1,null,null,null);e["default"]=f.exports;f.options.components=Object.assign({QCard:h["g"],QBtnToggle:h["f"],QInput:h["q"],QIcon:h["o"],QSelect:h["z"],QItem:h["r"],QItemSection:h["t"]},f.options.components||{})},"2f8e":function(t,e,n){},"36c32":function(t,e,n){"use strict";var r=n("bd1d"),o=n.n(r);o.a},"45ab":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"col bg-grey-1",attrs:{outlined:"",label:"Search"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.searchField=""}},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.searchField?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.searchField=""}}}):t._e(),n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}})},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("386d"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("5c3a");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={directives:{selectAll:c["a"]},computed:l({},Object(s["d"])("index",["search"]),{searchField:{get:function(){return this.search},set:function(t){this.setSearch(t)}}}),methods:l({},Object(s["b"])("index",["setSearch"]))},p=d,h=n("2877"),f=n("fe09"),m=Object(h["a"])(p,r,o,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QInput:f["q"],QIcon:f["o"]},m.options.components||{})},"555b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-gutter-sm row",staticStyle:{width:"310px"}},[n("photo-upload",{directives:[{name:"show",rawName:"v-show",value:!t.uploaded,expression:"!uploaded"}],ref:"upload",attrs:{label:"Custom header"},scopedSlots:t._u([{key:"header",fn:function(e){return[e.isUploading?n("q-spinner",{staticClass:"q-uploader__spinner"}):t._e(),e.canAddFiles?n("q-btn",{staticClass:"text-left upload",staticStyle:{width:"100%","border-radius":"0px",height:"60px"},attrs:{dense:"",flat:"",icon:"perm_media"},on:{click:function(e){return t.$emit("haveFile")}}},[n("q-uploader-add-trigger"),n("div",{staticClass:"q-uploader__title",staticStyle:{padding:"10px"}},[t._v("\n          "+t._s(t.label.title)+"\n        ")]),n("q-tooltip",[t._v("選擇圖片檔案")])],1):t._e(),e.canUpload?n("q-btn",{staticStyle:{width:"100%"},attrs:{dense:"",flat:"",label:"請先點擊上傳",icon:"cloud_upload"},on:{click:function(e){t.$refs.upload.upload(t.label.type),t.uploaded=!0}}}):t._e()]}}])}),n("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.uploaded,expression:"uploaded"}],staticClass:"text-primary",staticStyle:{"font-size":"80px"},attrs:{name:"check_circle"}})],1)},o=[],i={props:["label"],data:function(){return{uploaded:!1}},components:{"photo-upload":n("d443").default}},a=i,s=n("2877"),c=n("fe09"),u=Object(s["a"])(a,r,o,!1,null,null,null);e["default"]=u.exports;u.options.components=Object.assign({QSpinner:c["C"],QUploader:c["N"],QBtn:c["e"],QUploaderAddTrigger:c["O"],QTooltip:c["M"],QIcon:c["o"]},u.options.components||{})},5638:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card-actions",{attrs:{align:"left"}},[n("q-btn",{staticStyle:{width:"70px"},attrs:{icon:t.icon,label:t.label,type:"submit",color:t.color?t.color:"blue-5"}})],1)},o=[],i={props:["icon","color","label"]},a=i,s=n("2877"),c=n("fe09"),u=Object(s["a"])(a,r,o,!1,null,null,null);e["default"]=u.exports;u.options.components=Object.assign({QCardActions:c["h"],QBtn:c["e"]},u.options.components||{})},"5c3a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={inserted:function(t){var e=t.querySelector(".q-field__native");e.addEventListener("focus",(function(){e.value.length&&e.select()}))}}},8070:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"full-width full-height bg-lime-2"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.handleContain()}}},[n("q-card-section",{staticClass:"row q-pa-md"},[n("search"),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){t.$emit("close"),t.clearSearch()}}})],1),n("q-card-section",t._l(t.foodQuantity,(function(e){return n("q-item",{directives:[{name:"show",rawName:"v-show",value:t.search&&t.foodQuantityFilter(e.name),expression:"search && foodQuantityFilter(dishFood.name)"}],key:e.id},[n("q-input",{attrs:{dense:"",label:"(幾百克)",type:"text"},on:{input:function(n){e.quantity=t.handleFoodQuantityType(e.quantity)}},scopedSlots:t._u([{key:"before",fn:function(){return[n("q-tooltip",[t._v(t._s(e.description))]),n("div",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v("\n              "+t._s(e.name)+"\n            ")])]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{directives:[{name:"show",rawName:"v-show",value:e.quantity,expression:"dishFood.quantity"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){e.quantity=0}}})]},proxy:!0}],null,!0),model:{value:e.quantity,callback:function(n){t.$set(e,"quantity",n)},expression:"dishFood.quantity"}})],1)})),1),n("q-card-section",{staticClass:"absolute-bottom"},[n("modal-buttons",{attrs:{icon:"add"}})],1)],1)])},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f"),n("386d"),n("6762"),n("2fdb"),n("c47a")),a=n.n(i),s=n("2f62");n("a481");function c(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={props:["containToSubmit"],data:function(){return{newFood:!0,foodQuantity:[]}},computed:l({},Object(s["d"])("index",["search"]),{},Object(s["c"])("index",["food"])),methods:l({},Object(s["b"])("index",["clearSearch","setSearchType"]),{handleFoodQuantityType:function(t){return c(t)},handleContain:function(){for(var t=0;t<this.foodQuantity.length;t++){for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].food==this.foodQuantity[t].food&&(this.newFood=!1,this.foodQuantity[t].quantity<=0?this.containToSubmit.splice(e,1):this.containToSubmit[e].quantity=this.foodQuantity[t].quantity);this.newFood&&this.foodQuantity[t].quantity>0&&this.containToSubmit.push({food:this.foodQuantity[t].food,quantity:this.foodQuantity[t].quantity}),this.newFood=!0}this.clearSearch(),this.setSearchType("dishAdd"),this.$emit("showDishFood")},foodQuantityFilter:function(t){return!!t.includes(this.search)}}),components:{search:n("45ab").default,"modal-buttons":n("5638").default},created:function(){for(var t=0;t<this.food.length;t++)this.foodQuantity.push({food:this.food[t].id,name:this.food[t].name,description:this.food[t].description,quantity:0});if(this.containToSubmit.length)for(var e=0;e<this.containToSubmit.length;e++)for(var n=0;n<this.foodQuantity.length;n++)this.containToSubmit[e].food==this.foodQuantity[n].food&&(this.foodQuantity[n].quantity=this.containToSubmit[e].quantity,n=this.foodQuantity.lenght)}},p=d,h=(n("2374"),n("2877")),f=n("fe09"),m=Object(h["a"])(p,r,o,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QCard:f["g"],QCardSection:f["i"],QBtn:f["e"],QItem:f["r"],QInput:f["q"],QTooltip:f["M"],QIcon:f["o"],QField:f["l"]},m.options.components||{}),m.options.directives=Object.assign({ClosePopup:f["a"]},m.options.directives||{})},"83a7":function(t,e,n){},"8a29":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-table",{staticClass:"dish-table",attrs:{title:"料理",data:t.dish,columns:t.dish_nutrient,"row-key":"id",selection:"single",selected:t.selected},on:{"update:selected":function(e){t.selected=e},selection:t.selectDish},scopedSlots:t._u([{key:"top",fn:function(e){return[n("q-th",{staticClass:"row"},[n("div",{staticClass:"text-blue-10",staticStyle:{"font-size":"22px"}},[n("q-icon",{attrs:{name:"restaurant",size:"25px"}}),t._v("\n          料理\n        ")],1),n("q-btn",{staticStyle:{"margin-left":"120px"},attrs:{color:t.showImg?"grey-6":"light-blue-7",label:t.showImg?"關閉照片":"顯示照片"},on:{click:function(e){t.showImg=!t.showImg}}}),n("q-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:t.showRecipe?"grey-6":"light-blue-7",label:t.showRecipe?"關閉食譜":"顯示食譜"},on:{click:function(e){return t.$emit("showRecipe")}}})],1)]}},{key:"body-cell-name",fn:function(e){return[n("q-td",{key:"name",staticClass:"dish-name",attrs:{props:e}},[n("q-btn",{attrs:{flat:""},on:{click:function(n){t.showEditDish=!0,t.selected=[],t.$emit("false"),t.setSelect(e.row.id)}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1)]}},{key:"body-cell-dish_photo",fn:function(e){return[n("q-td",[t.showImg?n("q-img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:e.row.dish_photo}}):t._e()],1)]}},{key:"body-cell-grains",fn:function(e){return[n("q-td",{key:"grains",attrs:{props:e}},[n("q-badge",{attrs:{color:"amber"}},[t._v("\n          "+t._s(e.row.grains)+"\n        ")])],1)]}},{key:"body-cell-fruits",fn:function(e){return[n("q-td",{key:"fruits",attrs:{props:e}},[n("q-badge",{attrs:{color:"orange"}},[t._v("\n          "+t._s(e.row.fruits)+"\n        ")])],1)]}},{key:"body-cell-vegetables",fn:function(e){return[n("q-td",{key:"vegetables",attrs:{props:e}},[n("q-badge",{attrs:{color:"green"}},[t._v("\n          "+t._s(e.row.vegetables)+"\n        ")])],1)]}},{key:"body-cell-oils",fn:function(e){return[n("q-td",{key:"oils",attrs:{props:e}},[n("q-badge",{attrs:{color:"red"}},[t._v("\n          "+t._s(e.row.oils)+"\n        ")])],1)]}},{key:"body-cell-dairy_all",fn:function(e){return[n("q-td",{key:"dairy_all",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_all)+"\n        ")])],1)]}},{key:"body-cell-dairy_low",fn:function(e){return[n("q-td",{key:"dairy_low",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_low)+"\n        ")])],1)]}},{key:"body-cell-dairy_de",fn:function(e){return[n("q-td",{key:"dairy_de",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_de)+"\n        ")])],1)]}},{key:"body-cell-meat_low",fn:function(e){return[n("q-td",{key:"meat_low",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_low)+"\n        ")])],1)]}},{key:"body-cell-meat_med",fn:function(e){return[n("q-td",{key:"meat_med",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_med)+"\n        ")])],1)]}},{key:"body-cell-meat_high",fn:function(e){return[n("q-td",{key:"meat_high",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_high)+"\n        ")])],1)]}},{key:"body-cell-meat_max",fn:function(e){return[n("q-td",{key:"meat_max",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_max)+"\n        ")])],1)]}}])}),n("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showEditDish,callback:function(e){t.showEditDish=e},expression:"showEditDish"}},[n("edit-dish",{attrs:{dish:t.dish},on:{close:function(e){t.setSelect(""),t.showEditDish=!1}}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("456d"),n("ac6a"),n("cadf"),n("06db"),n("c47a")),a=n.n(i),s=n("2f62");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={props:["showFood","showRecipe"],data:function(){return{selected:[],showImg:!1,showEditDish:!1}},computed:u({},Object(s["d"])("index",["dish_nutrient","search"]),{},Object(s["c"])("index",["dish"])),methods:u({},Object(s["b"])("index",["setSelect","setSearchType","clear"]),{selectDish:function(t){t.added?(this.setSelect(t.keys),this.$emit("true")):(this.setSelect(""),this.$emit("false"),this.selected=[])}}),components:{"edit-dish":n("c7fe").default},watch:{search:function(t,e){""==t&&this.selectDish("")}}},d=l,p=(n("36c32"),n("2877")),h=n("fe09"),f=Object(p["a"])(d,r,o,!1,null,null,null);e["default"]=f.exports;f.options.components=Object.assign({QTable:h["G"],QTh:h["J"],QIcon:h["o"],QBtn:h["e"],QTd:h["I"],QImg:h["p"],QBadge:h["b"],QDialog:h["j"]},f.options.components||{})},"8b24":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"q-pa-md absolute full-width column",style:t.searchDish?"background: #e6f9ff":"background: #e6ffe6"},[n("div",{staticClass:"q-pa-md row"},[n("q-btn",{staticClass:"all-pointer-events bg-blue-4",attrs:{outline:"",icon:"add"},on:{click:function(e){t.clear(),t.showAddDish=!0}}}),n("div",{staticStyle:{"padding-left":"40px","padding-top":"5px"}},[n("q-btn",{attrs:{disable:"dish"==t.searchType,color:"blue-6",label:"料理",icon:"restaurant"},on:{click:function(e){t.setSearchType("dish"),t.searchDish=!0}}}),n("q-btn",{attrs:{disable:"food"==t.searchType||t.showFood,color:"blue-6",label:"食材",icon:"local_pizza"},on:{click:function(e){t.setSearchType("food"),t.searchDish=!1}}})],1)],1),n("div",{staticClass:"q-pl-md row"},[n("search",{directives:[{name:"show",rawName:"v-show",value:!t.showFood,expression:"!showFood"}],staticStyle:{"max-width":"300px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"dish"==t.searchType&&t.showFood,expression:"searchType=='dish' && showFood"}],staticClass:"q-pa-md row; text-amber-10"},[t._v("\n      如果要查詢其他項目，須先取消勾選\n    ")])],1),n("q-card",{staticClass:"my-card text-white full-width bg-blue-grey-4"},[n("dish-table",{directives:[{name:"show",rawName:"v-show",value:t.search&&"dish"==t.searchType,expression:"search && searchType=='dish'"}],attrs:{showFood:t.showFood,showRecipe:t.showRecipe},on:{true:function(e){t.showFood=!0},false:function(e){t.showFood=!1},showRecipe:function(e){t.showRecipe=!t.showRecipe}}}),t.showFood?n("hr",{attrs:{color:"black"}}):t._e(),"food"==t.searchType||t.showFood?n("food-table"):t._e(),t.showRecipe&&t.showFood?n("hr",{attrs:{color:"black"}}):t._e(),t.showRecipe&&t.showFood?n("recipe-table",{staticClass:"col"}):t._e()],1),n("q-dialog",{model:{value:t.showAddDish,callback:function(e){t.showAddDish=e},expression:"showAddDish"}},[n("add-dish",{on:{close:function(e){t.showAddDish=!1}}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"PageIndex",data:function(){return{showFood:!1,showRecipe:!1,searchDish:!0,showAddDish:!1}},computed:u({},Object(s["d"])("index",["searchType","search"])),methods:u({},Object(s["b"])("index",["setSearchType","clearSearch","fbReadData","clear"])),components:{search:n("45ab").default,"dish-table":n("8a29").default,"food-table":n("c181").default,"recipe-table":n("b294").default,"add-dish":n("d438").default}},d=l,p=n("2877"),h=n("fe09"),f=Object(p["a"])(d,r,o,!1,null,null,null);e["default"]=f.exports;f.options.components=Object.assign({QPage:h["w"],QBtn:h["e"],QCard:h["g"],QDialog:h["j"]},f.options.components||{})},"99de":function(t,e,n){},a136:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticStyle:{background:"#F8F8FF"}},[n("q-card-section",[n("q-bar",{staticClass:"bg-red-5"},[n("q-icon",{attrs:{name:"local_pizza"}}),n("div",{staticStyle:{"margin-left":"40%"}},[t._v(t._s(t.food.name))]),n("q-space"),n("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1)],1),n("q-card-section",{staticClass:"row"},t._l(t.nutrient,(function(e,r){return n("q-item",{key:r},[n("div",{staticStyle:{width:"230px"}},[n("q-input",{attrs:{dense:"",outlined:"",type:"text"},on:{input:function(n){t.food[e]=t.handleNutrient(t.food[e])}},scopedSlots:t._u([{key:"before",fn:function(){return[n("div",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v("\n              "+t._s(t.nutrientChinese[e])+"\n            ")])]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.food[e],expression:"food[nut]"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(n){t.food[e]=0}}})]},proxy:!0}],null,!0),model:{value:t.food[e],callback:function(n){t.$set(t.food,e,n)},expression:"food[nut]"}})],1)])})),1),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("modal-buttons",{staticClass:"q-pl-md",attrs:{label:"save"}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("c5f6"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("f751"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("26c0");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={props:["food"],data:function(){return{nutrientToSubmit:[]}},computed:l({},Object(s["d"])("index",["nutrient","nutrientChinese"])),methods:l({},Object(s["b"])("index",["updateNutrient"]),{handleNutrient:function(t){return Object(c["a"])(t)},submitForm:function(){var t=this;this.nutrientToSubmit=Object.assign({},this.nutrient),Object.keys(this.nutrient).forEach((function(e){""==t.food[e]&&(t.food[e]=0),t.nutrientToSubmit[e]=Number(t.food[e])})),this.nutrientToSubmit.id=this.food.id,this.updateNutrient(this.nutrientToSubmit),this.$emit("close")}}),components:{"modal-buttons":n("5638").default}},p=d,h=n("2877"),f=n("fe09"),m=Object(h["a"])(p,r,o,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QCard:f["g"],QCardSection:f["i"],QBar:f["d"],QIcon:f["o"],QSpace:f["B"],QBtn:f["e"],QItem:f["r"],QInput:f["q"]},m.options.components||{})},ae59:function(t,e,n){"use strict";var r=n("83a7"),o=n.n(r);o.a},b294:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row q-pt-md"},[n("q-card",{staticStyle:{"max-width":"300px",background:"radial-gradient(circle, #35a2ff 0%, #3366ff 100%)"},attrs:{dense:"",title:"食譜"}},[n("img",{attrs:{src:t.photo()}}),n("q-card-section",[t._v("\n      "+t._s(t.recipe.text)+"\n    ")])],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={computed:u({},Object(s["c"])("index",["recipe"])),methods:{photo:function(){return"無"!=this.recipe.photo&&this.recipe.photo?this.recipe.photo:""}}},d=l,p=n("2877"),h=n("fe09"),f=Object(p["a"])(d,r,o,!1,null,null,null);e["default"]=f.exports;f.options.components=Object.assign({QCard:h["g"],QCardSection:h["i"]},f.options.components||{})},b5df:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col q-pt-md",staticStyle:{"margin-left":"45px"}},[n("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"bg-blue-grey-2",staticStyle:{width:"445px"},attrs:{filled:"",value:t.recipe,type:"textarea",label:"食譜"},on:{input:function(e){return t.$emit("update:recipe",e)}}}),n("modal-photo",{ref:"modalPhoto",staticStyle:{"margin-top":"5px"},attrs:{label:t.label}})],1)},o=[],i=n("5c3a"),a={props:["recipe"],directives:{selectAll:i["a"]},data:function(){return{label:{type:"recipes",title:"食譜的照片"}}},components:{"modal-photo":n("555b").default}},s=a,c=n("2877"),u=n("fe09"),l=Object(c["a"])(s,r,o,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QInput:u["q"]},l.options.components||{})},bd1d:function(t,e,n){},c181:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-table",{staticClass:"sticky-header-column-table",attrs:{title:"食材",data:"dishAdd"==t.searchType?t.foodList:t.food,columns:t.food_nutrient,"row-key":"id"},scopedSlots:t._u([{key:"top",fn:function(e){return[n("q-th",{staticClass:"row"},[n("div",{staticClass:"text-cyan-10 bg-white",staticStyle:{"font-size":"22px"}},[n("q-icon",{attrs:{name:"local_pizza",size:"25px"}}),t._v("\n          食材\n        ")],1)])]}},{key:"body-cell-name",fn:function(e){return[n("q-td",{key:"name",attrs:{props:e}},[n("q-tooltip",[t._v("\n          "+t._s(e.row.description)+"\n        ")]),n("q-btn",{attrs:{flat:"",disable:"dish"==t.searchType},on:{click:function(n){return t.editFood(e.row)}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1)]}},{key:"body-cell-grains",fn:function(e){return[n("q-td",{key:"grains",attrs:{props:e}},[n("q-badge",{attrs:{color:"amber"}},[t._v("\n          "+t._s(e.row.grains)+"\n        ")])],1)]}},{key:"body-cell-fruits",fn:function(e){return[n("q-td",{key:"fruits",attrs:{props:e}},[n("q-badge",{attrs:{color:"orange"}},[t._v("\n          "+t._s(e.row.fruits)+"\n        ")])],1)]}},{key:"body-cell-vegetables",fn:function(e){return[n("q-td",{key:"vegetables",attrs:{props:e}},[n("q-badge",{attrs:{color:"positive"}},[t._v("\n          "+t._s(e.row.vegetables)+"\n        ")])],1)]}},{key:"body-cell-oils",fn:function(e){return[n("q-td",{key:"oils",attrs:{props:e}},[n("q-badge",{attrs:{color:"negative"}},[t._v("\n          "+t._s(e.row.oils)+"\n        ")])],1)]}},{key:"body-cell-dairy_all",fn:function(e){return[n("q-td",{key:"dairy_all",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_all)+"\n        ")])],1)]}},{key:"body-cell-dairy_low",fn:function(e){return[n("q-td",{key:"dairy_low",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_low)+"\n        ")])],1)]}},{key:"body-cell-dairy_de",fn:function(e){return[n("q-td",{key:"dairy_de",attrs:{props:e}},[n("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_de)+"\n        ")])],1)]}},{key:"body-cell-meat_low",fn:function(e){return[n("q-td",{key:"meat_low",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_low)+"\n        ")])],1)]}},{key:"body-cell-meat_med",fn:function(e){return[n("q-td",{key:"meat_med",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_med)+"\n        ")])],1)]}},{key:"body-cell-meat_high",fn:function(e){return[n("q-td",{key:"meat_high",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_high)+"\n        ")])],1)]}},{key:"body-cell-meat_max",fn:function(e){return[n("q-td",{key:"meat_max",attrs:{props:e}},[n("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_max)+"\n        ")])],1)]}}])}),n("q-dialog",{model:{value:t.showEditFood,callback:function(e){t.showEditFood=e},expression:"showEditFood"}},[n("edit-six",{attrs:{foodToEdit:t.foodToEdit},on:{close:function(e){t.showEditFood=!1}}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("f751"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("cab7");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={props:["containToSubmit","dishToSubmit"],data:function(){return{foodList:[],showEditFood:!1,foodToEdit:""}},computed:l({},Object(s["d"])("index",["food_nutrient","searchType"]),{},Object(s["c"])("index",["food"])),methods:{editFood:function(t){this.showEditFood=!0,this.foodToEdit=Object.assign({},t)}},components:{"edit-six":n("2b5f").default},mounted:function(){"dishAdd"==this.searchType&&(this.foodList=Object(c["a"])(this.containToSubmit,this.food))}},p=d,h=(n("ae59"),n("2877")),f=n("fe09"),m=Object(h["a"])(p,r,o,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QTable:f["G"],QTh:f["J"],QIcon:f["o"],QTd:f["I"],QTooltip:f["M"],QBtn:f["e"],QBadge:f["b"],QDialog:f["j"]},m.options.components||{})},c64e:function(t,e,n){var r=n("e1f4"),o=n("2366");function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}t.exports=i},c7fe:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"my-card full-width",staticStyle:{background:"#F8F8FF"}},[n("q-card-section",{staticClass:"text-right"},[n("q-icon",{staticClass:"text-negative ",staticStyle:{"font-size":"30px"},attrs:{name:"notification_important"}}),n("span",{staticClass:"text-negative",staticStyle:{"padding-right":"100px"}},[t._v("如果沒有要更改照片，則不須上傳")]),n("q-btn",{attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){return t.$emit("close")}}})],1),n("q-card-section",{staticClass:"row",staticStyle:{"padding-left":"60px"}},[n("modal-dish-name",{ref:"modalDishName",attrs:{name:t.dishToSubmit.name},on:{"update:name":function(e){return t.$set(t.dishToSubmit,"name",e)}}}),n("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[n("modal-photo",{ref:"modalPhoto",attrs:{label:t.label}}),n("div",{staticClass:"col",staticStyle:{"margin-left":"22px"}},[n("q-btn",{attrs:{label:"組成食材",icon:"library_add",outline:"",color:t.containError?"negative":"primary",type:"submit"},on:{click:function(e){t.showDishFood=!0,t.setSearchType(""),t.clearSearch()}}}),n("modal-dish-person",{attrs:{person:t.dishToSubmit.person},on:{"update:person":function(e){return t.$set(t.dishToSubmit,"person",e)}}})],1)],1),n("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showDishFood,callback:function(e){t.showDishFood=e},expression:"showDishFood"}},[n("modal-dish-food",{ref:"modalDishFood",attrs:{containToSubmit:t.containToSubmit},on:{showDishFood:function(e){t.showDishFood=!1},close:function(e){t.containToSubmit&&t.setSearchType("dishAdd")}}})],1)],1),n("q-card-section",{staticStyle:{"margin-left":"44px","margin-top":"30px"}},[n("modal-dish-restaurant",{ref:"modalDishRestaurant",attrs:{restaurant_id:t.dishToSubmit.restaurant_id},on:{"update:restaurant_id":function(e){return t.$set(t.dishToSubmit,"restaurant_id",e)},newRestaurant:function(e){t.newRestaurant=!0}}})],1),n("q-card-section",[n("modal-dish-recipe",{ref:"modalDishRecipe",attrs:{recipe:t.recipeToSubmit.text},on:{"update:recipe":function(e){return t.$set(t.recipeToSubmit,"text",e)}}})],1),n("div",{staticClass:"col q-pa-md"},[t.showDishFood?t._e():n("food-table",{attrs:{containToSubmit:t.containToSubmit,dishToSubmit:t.dishToSubmit}})],1),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("modal-buttons",{attrs:{label:t.label.save}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("f751"),n("7f7f"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("1f3f"),u=n("cab7");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={mixins:[c["a"]],props:["dish"],data:function(){return{newRestaurant:!1,label:{type:"dishs",title:"料理的照片",save:"save"},showDishFood:!1,containError:!1,dishToSubmit:{},containToSubmit:[],recipeToSubmit:"",foodList:[]}},computed:d({},Object(s["d"])("index",["select","dish_photo","recipe_photo"]),{},Object(s["c"])("index",["recipe","food","contain"])),methods:d({},Object(s["b"])("index",["clear","setSearch","setSearchType","setSelect","clearSearch","updateDish","deleteContain","addRecipe","updateRecipe","addRestaurant","addContain"]),{submitDish:function(){var t=this;this.foodList=Object(u["a"])(this.containToSubmit,this.food),Object.keys(this.dishToSubmit).forEach((function(e){"name"!=e&&"restaurant_id"!=e&&"dish_photo"!=e&&"id"!=e&&"number"!=e&&"person"!=e&&(t.dishToSubmit[e]=t.foodList[t.foodList.length-1][e])})),"無"!=this.dish_photo&&(this.dishToSubmit.dish_photo=this.dish_photo),"無"!=this.recipe_photo&&(this.recipeToSubmit.photo=this.recipe_photo),this.updateDish(this.dishToSubmit),this.newRestaurant&&this.addRestaurant(this.dishToSubmit.restaurant_id),this.deleteContain(this.dishToSubmit.id);for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].dish=this.dishToSubmit.id;this.addContain(this.containToSubmit),this.recipeToSubmit.text&&(this.recipeToSubmit.id?this.updateRecipe(this.recipeToSubmit):(this.recipeToSubmit.dish=this.dishToSubmit.id,this.addRecipe(this.recipeToSubmit))),this.clear(),this.setSearchType("dish"),this.setSearch(this.dishToSubmit.name),this.$emit("close")}}),mounted:function(){this.recipeToSubmit=Object.assign({},this.recipe);for(var t=0;t<this.contain.length;t++)this.containToSubmit.push(Object.assign({},this.contain[t]));for(var e=0;e<this.dish.length;e++)this.dish[e].id==this.select&&(this.dishToSubmit=Object.assign({},this.dish[e]),delete this.dishToSubmit.__index)},watch:{containToSubmit:function(t,e){t&&(this.containError=!1)}}},h=p,f=n("2877"),m=n("fe09"),b=Object(f["a"])(h,r,o,!1,null,null,null);e["default"]=b.exports;b.options.components=Object.assign({QCard:m["g"],QCardSection:m["i"],QIcon:m["o"],QBtn:m["e"],QDialog:m["j"]},b.options.components||{})},d438:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"my-card text-white full-width",staticStyle:{background:"#F8F8FF"}},[n("q-card-section",{staticClass:"text-right"},[n("q-btn",{attrs:{flat:"",dense:"",color:"negative",icon:"highlight_off",size:"19px"},on:{click:function(e){t.$emit("close"),t.setSearchType("dish")}}})],1),n("q-card-section",{staticClass:"row",staticStyle:{"padding-left":"60px"}},[n("modal-dish-name",{ref:"modalDishName",attrs:{name:t.dishToSubmit.name},on:{"update:name":function(e){return t.$set(t.dishToSubmit,"name",e)}}}),n("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[n("modal-photo",{ref:"modalPhoto",attrs:{label:t.label}}),n("div",{staticClass:"col",staticStyle:{"margin-left":"22px"}},[n("q-btn",{staticStyle:{height:"50px"},attrs:{label:"組成食材",icon:"library_add",outline:"",color:t.containError?"negative":"primary",type:"submit"},on:{click:function(e){t.showDishFood=!0,t.setSearchType("")}}}),n("modal-dish-person",{attrs:{person:t.dishToSubmit.person},on:{"update:person":function(e){return t.$set(t.dishToSubmit,"person",e)}}})],1)],1),n("q-dialog",{attrs:{cancel:!0,persistent:!0},model:{value:t.showDishFood,callback:function(e){t.showDishFood=e},expression:"showDishFood"}},[n("modal-dish-food",{ref:"modalDishFood",attrs:{containToSubmit:t.containToSubmit},on:{showDishFood:function(e){t.showDishFood=!1},close:function(e){t.containToSubmit&&t.setSearchType("dishAdd")}}})],1)],1),n("q-card-section",{staticStyle:{"margin-left":"44px","margin-top":"30px"}},[n("modal-dish-restaurant",{ref:"modalDishRestaurant",attrs:{restaurant_id:t.dishToSubmit.restaurant_id},on:{"update:restaurant_id":function(e){return t.$set(t.dishToSubmit,"restaurant_id",e)},newRestaurant:function(e){t.newRestaurant=!0}}})],1),n("q-card-section",[n("modal-dish-recipe",{ref:"modalDishRecipe",attrs:{recipe:t.recipeToSubmit.text},on:{"update:recipe":function(e){return t.$set(t.recipeToSubmit,"text",e)}}})],1),n("div",{staticClass:"col q-pa-md"},[!t.showDishFood&&t.containToSubmit.length?n("food-table",{attrs:{containToSubmit:t.containToSubmit,dishToSubmit:t.dishToSubmit}}):t._e()],1),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("modal-buttons",{attrs:{label:t.label.save}})],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("7f7f"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(i),s=n("2f62"),c=n("1f3f"),u=n("cab7");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={mixins:[c["a"]],data:function(){return{newRestaurant:!1,label:{type:"dishs",title:"料理的照片",save:"Save",cancel:"back"},showDishFood:!1,containError:!1,dishToSubmit:{name:"",person:"",number:"",restaurant_id:"",dish_photo:"",calories:"",fat:"",protein:"",carbs:"",grains:"",fruits:"",vegetables:"",oils:"",dairy_all:0,dairy_low:0,dairy_de:0,meat_low:0,meat_med:0,meat_high:0,meat_max:0,dietary_fiber:"",total_sugar:"",sodium:"",potassium:"",calcium:"",magnesium:"",iron:"",zinc:"",phosphorus:"",vitaminA:"",vision_alcohol:"",vitaminE:"",vitaminB1:"",vitaminB2:"",vitaminB6:"",vitaminB12:"",vitaminC:"",nicotin:"",folic_acid:"",fatty_acidS:"",fatty_acidM:"",fatty_acidP:"",cholesterol:""},containToSubmit:[],recipeToSubmit:{dish:"",photo:"",text:""},foodList:[]}},computed:d({},Object(s["d"])("index",["dish","dish_id","dish_photo","recipe_photo"]),{},Object(s["c"])("index",["food"])),methods:d({},Object(s["b"])("index",["clear","addDish","addContain","addRecipe","setSearchType","setSearch","addRestaurant"]),{submitDish:function(){var t=this;this.foodList=Object(u["a"])(this.containToSubmit,this.food),Object.keys(this.dishToSubmit).forEach((function(e){"name"!=e&&"restaurant_id"!=e&&"dish_photo"!=e&&"id"!=e&&"number"!=e&&"person"!=e&&(t.dishToSubmit[e]=t.foodList[t.foodList.length-1][e])})),this.dishToSubmit.dish_photo=this.dish_photo,this.recipeToSubmit.photo=this.recipe_photo,this.addDish(this.dishToSubmit),this.newRestaurant&&this.addRestaurant(this.dishToSubmit.restaurant_id);for(var e=0;e<this.containToSubmit.length;e++)this.containToSubmit[e].dish=this.dish_id;this.addContain(this.containToSubmit),this.recipeToSubmit.text&&(this.recipeToSubmit.dish=this.dish_id,this.addRecipe(this.recipeToSubmit)),this.clear(),this.setSearchType("dish"),this.setSearch(this.dishToSubmit.name),this.$emit("close")}}),watch:{containToSubmit:function(t,e){t&&(this.containError=!1)}}},h=p,f=n("2877"),m=n("fe09"),b=Object(f["a"])(h,r,o,!1,null,null,null);e["default"]=b.exports;b.options.components=Object.assign({QCard:m["g"],QCardSection:m["i"],QBtn:m["e"],QDialog:m["j"]},b.options.components||{})},d443:function(t,e,n){"use strict";n.r(e);n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d");var r=n("c47a"),o=n.n(r),i=n("3a82"),a=(n("a639"),n("59ca")),s=n.n(a),c=n("c23d"),u=n.n(c),l=n("9ab4"),d="firebasestorage.googleapis.com",p="storageBucket",h=12e4,f=6e5,m=-9007199254740991,b=function(){function t(t,e){this.code_=y(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return y(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),_={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function y(t){return"storage/"+t}function v(){var t="An unknown error occurred, please check the error payload for server response.";return new b(_.UNKNOWN,t)}function g(t){return new b(_.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function w(t){return new b(_.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new b(_.UNAUTHENTICATED,t)}function S(t){return new b(_.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function x(){return new b(_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T(){return new b(_.CANCELED,"User canceled the upload/download.")}function k(t){return new b(_.INVALID_URL,"Invalid URL '"+t+"'.")}function E(t){return new b(_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R(){return new b(_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+p+"' property when initializing the app?")}function C(){return new b(_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function q(){return new b(_.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function j(){return new b(_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P(t,e,n){return new b(_.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function D(t,e,n,r){var o,i;return t===e?(o=t,i=1===t?"argument":"arguments"):(o="between "+t+" and "+e,i="arguments"),new b(_.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+o+" "+i+", received "+r+".")}function N(){return new b(_.APP_DELETED,"The Firebase app was deleted.")}function A(t){return new b(_.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function U(t,e){return new b(_.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function I(t){throw new b(_.INTERNAL_ERROR,"Internal error: "+t)}var F={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function L(t){switch(t){case F.RAW:case F.BASE64:case F.BASE64URL:case F.DATA_URL:return;default:throw"Expected one of the event types: ["+F.RAW+", "+F.BASE64+", "+F.BASE64URL+", "+F.DATA_URL+"]."}}var Q=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function $(t,e){switch(t){case F.RAW:return new Q(B(e));case F.BASE64:case F.BASE64URL:return new Q(W(t,e));case F.DATA_URL:return new Q(G(e),H(e));default:}throw v()}function B(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var o=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(o){var i=r,a=t.charCodeAt(++n);r=65536|(1023&i)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function M(t){var e;try{e=decodeURIComponent(t)}catch(n){throw U(F.DATA_URL,"Malformed data URL.")}return B(e)}function W(t,e){switch(t){case F.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var o=n?"-":"_";throw U(t,"Invalid character '"+o+"' found: is it base64url encoded?")}break;case F.BASE64URL:var i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a){o=i?"+":"/";throw U(t,"Invalid character '"+o+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break;default:}var s;try{s=atob(e)}catch(l){throw U(t,"Invalid character found")}for(var c=new Uint8Array(s.length),u=0;u<s.length;u++)c[u]=s.charCodeAt(u);return c}var z=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw U(F.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=V(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function G(t){var e=new z(t);return e.base64?W(F.BASE64,e.rest):M(e.rest)}function H(t){var e=new z(t);return e.contentType}function V(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}var X,K={STATE_CHANGED:"state_changed"},J={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Z={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Y(t){switch(t){case J.RUNNING:case J.PAUSING:case J.CANCELING:return Z.RUNNING;case J.PAUSED:return Z.PAUSED;case J.SUCCESS:return Z.SUCCESS;case J.CANCELED:return Z.CANCELED;case J.ERROR:return Z.ERROR;default:return Z.ERROR}}function tt(t){return null!=t}function et(t){return void 0!==t}function nt(t){return"function"===typeof t}function rt(t){return"object"===typeof t}function ot(t){return rt(t)&&null!==t}function it(t){return rt(t)&&!Array.isArray(t)}function at(t){return"string"===typeof t||t instanceof String}function st(t){return ct(t)&&Number.isInteger(t)}function ct(t){return"number"===typeof t||t instanceof Number}function ut(t){return lt()&&t instanceof Blob}function lt(){return"undefined"!==typeof Blob}(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(X||(X={}));var dt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=X.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=X.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=X.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw I("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),tt(r))for(var o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return tt(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw I("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw I("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw I("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){tt(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){tt(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),pt=function(){function t(){}return t.prototype.createXhrIo=function(){return new dt},t}();function ht(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ht();if(void 0!==n){for(var r=new n,o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}if(lt())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function mt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}var bt=function(){function t(t,e){var n=0,r="";ut(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ut(this.data_)){var r=this.data_,o=mt(r,e,n);return null===o?null:new t(o)}var i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(lt()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(ft.apply(null,r))}var o=e.map((function(t){return at(t)?$(F.RAW,t).data:t.data_})),i=0;o.forEach((function(t){i+=t.byteLength}));var a=new Uint8Array(i),s=0;return o.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),_t=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw E(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function o(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var i="(/(.*))?$",a="(/([^?#]*).*)?$",s=new RegExp("^gs://"+r+i,"i"),c={bucket:1,path:3};function u(t){t.path_=decodeURIComponent(t.path)}for(var l="v[A-Za-z0-9_]+",p=d.replace(/[.]/g,"\\."),h=new RegExp("^https?://"+p+"/"+l+"/b/"+r+"/o"+a,"i"),f={bucket:1,path:3},m=[{regex:s,indices:c,postModify:o},{regex:h,indices:f,postModify:u}],b=0;b<m.length;b++){var _=m[b],y=_.regex.exec(e);if(y){var v=y[_.indices.bucket],g=y[_.indices.path];g||(g=""),n=new t(v,g),_.postModify(n);break}}if(null==n)throw k(e);return n},t}();function yt(t){var e;try{e=JSON.parse(t)}catch(n){return null}return it(e)?e:null}function vt(t){if(0===t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function gt(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function wt(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ot(t){return"https://"+d+"/v0"+t}function St(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}function xt(t,e){return e}var Tt=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||xt}return t}(),kt=null;function Et(t){return!at(t)||t.length<2?t:wt(t)}function Rt(){if(kt)return kt;var t=[];function e(t,e){return Et(e)}t.push(new Tt("bucket")),t.push(new Tt("generation")),t.push(new Tt("metageneration")),t.push(new Tt("name","fullPath",!0));var n=new Tt("name");function r(t,e){return tt(e)?Number(e):e}n.xform=e,t.push(n);var o=new Tt("size");return o.xform=r,t.push(o),t.push(new Tt("timeCreated")),t.push(new Tt("updated")),t.push(new Tt("md5Hash",null,!0)),t.push(new Tt("cacheControl",null,!0)),t.push(new Tt("contentDisposition",null,!0)),t.push(new Tt("contentEncoding",null,!0)),t.push(new Tt("contentLanguage",null,!0)),t.push(new Tt("contentType",null,!0)),t.push(new Tt("metadata","customMetadata",!0)),kt=t,kt}function Ct(t,e){function n(){var n=t["bucket"],r=t["fullPath"],o=new _t(n,r);return e.makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function qt(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var a=n[i];r[a.local]=a.xform(r,e[a.server])}return Ct(r,t),r}function jt(t,e,n){var r=yt(e);if(null===r)return null;var o=r;return qt(t,o,n)}function Pt(t,e){var n=yt(e);if(null===n)return null;if(!at(n["downloadTokens"]))return null;var r=n["downloadTokens"];if(0===r.length)return null;var o=encodeURIComponent,i=r.split(","),a=i.map((function(e){var n=t["bucket"],r=t["fullPath"],i="/b/"+o(n)+"/o/"+o(r),a=Ot(i),s=St({alt:"media",token:e});return a+s}));return a[0]}function Dt(t,e){for(var n={},r=e.length,o=0;o<r;o++){var i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}function Nt(t){if(!rt(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!rt(n))throw"Expected object for 'customMetadata' mapping."}else if(ot(n))throw"Mapping for '"+e+"' cannot be an object."}}var At="maxResults",Ut=1e3,It="pageToken",Ft="prefixes",Lt="items";function Qt(t,e){var n={prefixes:[],items:[],nextPageToken:e["nextPageToken"]},r=t.bucket();if(null===r)throw R();if(e[Ft])for(var o=0,i=e[Ft];o<i.length;o++){var a=i[o],s=a.replace(/\/$/,""),c=t.makeStorageReference(new _t(r,s));n.prefixes.push(c)}if(e[Lt])for(var u=0,l=e[Lt];u<l.length;u++){var d=l[u];c=t.makeStorageReference(new _t(r,d["name"]));n.items.push(c)}return n}function $t(t,e){var n=yt(e);if(null===n)return null;var r=n;return Qt(t,r)}function Bt(t){if(!rt(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===At){if(!st(t[At])||t[At]<=0)throw"Expected maxResults to be a positive number.";if(t[At]>1e3)throw"Expected maxResults to be less than or equal to "+Ut+"."}else{if(e!==It)throw"Unknown option: "+e;if(t[It]&&!at(t[It]))throw"Expected pageToken to be string."}}var Mt=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();function Wt(t){if(!t)throw v()}function zt(t,e){function n(n,r){var o=jt(t,r,e);return Wt(null!==o),o}return n}function Gt(t){function e(e,n){var r=$t(t,n);return Wt(null!==r),r}return e}function Ht(t,e){function n(n,r){var o=jt(t,r,e);return Wt(null!==o),Pt(o,r)}return n}function Vt(t){function e(e,n){var r;return r=401===e.getStatus()?O():402===e.getStatus()?w(t.bucket):403===e.getStatus()?S(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function Xt(t){var e=Vt(t);function n(n,r){var o=e(n,r);return 404===n.getStatus()&&(o=g(t.path)),o.setServerResponseProp(r.serverResponseProp()),o}return n}function Kt(t,e,n){var r=e.fullServerUrl(),o=Ot(r),i="GET",a=t.maxOperationRetryTime(),s=new Mt(o,i,zt(t,n),a);return s.errorHandler=Xt(e),s}function Jt(t,e,n,r,o){var i={};e.isRoot?i["prefix"]="":i["prefix"]=e.path+"/",n&&n.length>0&&(i["delimiter"]=n),r&&(i["pageToken"]=r),o&&(i["maxResults"]=o);var a=e.bucketOnlyServerUrl(),s=Ot(a),c="GET",u=t.maxOperationRetryTime(),l=new Mt(s,c,Gt(t),u);return l.urlParams=i,l.errorHandler=Vt(e),l}function Zt(t,e,n){var r=e.fullServerUrl(),o=Ot(r),i="GET",a=t.maxOperationRetryTime(),s=new Mt(o,i,Ht(t,n),a);return s.errorHandler=Xt(e),s}function Yt(t,e,n,r){var o=e.fullServerUrl(),i=Ot(o),a="PATCH",s=Dt(n,r),c={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime(),l=new Mt(i,a,zt(t,r),u);return l.headers=c,l.body=s,l.errorHandler=Xt(e),l}function te(t,e){var n=e.fullServerUrl(),r=Ot(n),o="DELETE",i=t.maxOperationRetryTime();function a(t,e){}var s=new Mt(r,o,a,i);return s.successCodes=[200,204],s.errorHandler=Xt(e),s}function ee(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function ne(t,e,n){var r=Object.assign({},n);return r["fullPath"]=t.path,r["size"]=e.size(),r["contentType"]||(r["contentType"]=ee(null,e)),r}function re(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var c=s();a["Content-Type"]="multipart/related; boundary="+c;var u=ne(e,r,o),l=Dt(u,n),d="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+c+"\r\nContent-Type: "+u["contentType"]+"\r\n\r\n",p="\r\n--"+c+"--",h=bt.getBlob(d,r,p);if(null===h)throw C();var f={name:u["fullPath"]},m=Ot(i),b="POST",_=t.maxUploadRetryTime(),y=new Mt(m,b,zt(t,n),_);return y.urlParams=f,y.headers=a,y.body=h.uploadData(),y.errorHandler=Vt(e),y}var oe=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function ie(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(o){Wt(!1)}var r=e||["active"];return Wt(!!n&&-1!==r.indexOf(n)),n}function ae(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),a=ne(e,r,o),s={name:a["fullPath"]},c=Ot(i),u="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a["contentType"],"Content-Type":"application/json; charset=utf-8"},d=Dt(a,n),p=t.maxUploadRetryTime();function h(t){var e;ie(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Wt(!1)}return Wt(at(e)),e}var f=new Mt(c,u,h,p);return f.urlParams=s,f.headers=l,f.body=d,f.errorHandler=Vt(e),f}function se(t,e,n,r){var o={"X-Goog-Upload-Command":"query"};function i(t){var e=ie(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(i){Wt(!1)}n||Wt(!1);var o=Number(n);return Wt(!isNaN(o)),new oe(o,r.size(),"final"===e)}var a="POST",s=t.maxUploadRetryTime(),c=new Mt(n,a,i,s);return c.headers=o,c.errorHandler=Vt(e),c}var ce=262144;function ue(t,e,n,r,o,i,a,s){var c=new oe(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw q();var u=c.total-c.current,l=u;o>0&&(l=Math.min(l,o));var d=c.current,p=d+l,h=l===u?"upload, finalize":"upload",f={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":c.current},m=r.slice(d,p);if(null===m)throw C();function b(t,n){var o,a=ie(t,["active","final"]),s=c.current+l,u=r.size();return o="final"===a?zt(e,i)(t,n):null,new oe(s,u,"final"===a,o)}var _="POST",y=e.maxUploadRetryTime(),v=new Mt(n,_,b,y);return v.headers=f,v.body=m.uploadData(),v.progressCallback=s||null,v.errorHandler=Vt(t),v}var le=function(){function t(t,e,n){var r=nt(t)||tt(e)||tt(n);if(r)this.next=t,this.error=e||null,this.complete=n||null;else{var o=t;this.next=o.next||null,this.error=o.error||null,this.complete=o.complete||null}}return t}(),de=function(){function t(t,e,n,r,o,i){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=o,this.ref=i}return t}();function pe(t,e,n){for(var r=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){r=i;break}var a=r<=n.length&&n.length<=o;if(!a)throw D(r,o,t,n.length);for(i=0;i<n.length;i++)try{e[i].validator(n[i])}catch(s){throw s instanceof Error?P(i,t,s.message):P(i,t,s)}}var he=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!et(e)||t(e)},this.optional=!!e}return t}();function fe(t,e){return function(n){t(n),e(n)}}function me(t,e){function n(t){if(!at(t))throw"Expected string."}var r;return r=t?fe(n,t):n,new he(r,e)}function be(){function t(t){var e=t instanceof Uint8Array||t instanceof ArrayBuffer||lt()&&t instanceof Blob;if(!e)throw"Expected Blob or File."}return new he(t)}function _e(t){return new he(Nt,t)}function ye(t){return new he(Bt,t)}function ve(){function t(t){var e=ct(t)&&t>=0;if(!e)throw"Expected a number 0 or greater."}return new he(t)}function ge(t,e){function n(e){var n=null===e||tt(e)&&e instanceof Object;if(!n)throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new he(n,e)}function we(t){function e(t){var e=null===t||nt(t);if(!e)throw"Expected a Function."}return new he(e,t)}function Oe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Se=function(){function t(t,e,n,r,o,i){var a=this;void 0===i&&(i=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=o,this.metadata_=i,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=J.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(_.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(J.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(_.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(J.ERROR))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===J.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case J.RUNNING:t(n);break;case J.CANCELING:e.transition_(J.CANCELED);break;case J.PAUSING:e.transition_(J.PAUSED);break;default:}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=ae(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=se(t.authWrapper_,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(r,n);t.request_=o,o.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=ce*this.chunkMultiplier_,n=new oe(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(o){var i;try{i=ue(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(J.ERROR)}var a=t.authWrapper_.makeRequest(i,o);t.request_=a,a.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(J.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){var t=ce*this.chunkMultiplier_;t<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Kt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(J.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=re(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(J.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case J.CANCELING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case J.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case J.RUNNING:var e=this.state_===J.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case J.PAUSED:this.state_=t,this.notifyObservers_();break;case J.CANCELED:this.error_=T(),this.state_=t,this.notifyObservers_();break;case J.ERROR:this.state_=t,this.notifyObservers_();break;case J.SUCCESS:this.state_=t,this.notifyObservers_();break;default:}},t.prototype.completeTransitions_=function(){switch(this.state_){case J.PAUSING:this.transition_(J.PAUSED);break;case J.CANCELING:this.transition_(J.CANCELED);break;case J.RUNNING:this.start_();break;default:break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Y(this.state_);return new de(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function o(){if(t!==K.STATE_CHANGED)throw"Expected one of the event types: ["+K.STATE_CHANGED+"]."}var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=we(!0).validator,s=ge(null,!0).validator;function c(t){try{return void a(t)}catch(n){}try{s(t);var e=et(t["next"])||et(t["error"])||et(t["complete"]);if(!e)throw"";return}catch(n){throw i}}var u=[me(o),ge(c,!0),we(!0),we(!0)];pe("on",u,arguments);var l=this;function d(t){function e(e,n,o){null!==t&&pe("on",t,arguments);var i=new le(e,n,r);return l.addObserver_(i),function(){l.removeObserver_(i)}}return e}function p(t){if(null===t)throw i;c(t)}var h=[ge(p),we(!0),we(!0)],f=!(et(e)||et(n)||et(r));return f?d(h):d(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_();var e=this.observers_.slice();e.forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Y(this.state_)){case Z.SUCCESS:Oe(this.resolve_.bind(null,this.snapshot))();break;case Z.CANCELED:case Z.ERROR:var e=this.reject_;Oe(e.bind(null,this.error_))();break;default:t=!1;break}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){var e=Y(this.state_);switch(e){case Z.RUNNING:case Z.PAUSED:t.next&&Oe(t.next.bind(t,this.snapshot))();break;case Z.SUCCESS:t.complete&&Oe(t.complete.bind(t))();break;case Z.CANCELED:case Z.ERROR:t.error&&Oe(t.error.bind(t,this.error_))();break;default:t.error&&Oe(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){pe("resume",[],arguments);var t=this.state_===J.PAUSED||this.state_===J.PAUSING;return t&&this.transition_(J.RUNNING),t},t.prototype.pause=function(){pe("pause",[],arguments);var t=this.state_===J.RUNNING;return t&&this.transition_(J.PAUSING),t},t.prototype.cancel=function(){pe("cancel",[],arguments);var t=this.state_===J.RUNNING||this.state_===J.PAUSING;return t&&this.transition_(J.CANCELING),t},t}(),xe=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof _t?e:_t.makeFromUrl(e)}return t.prototype.toString=function(){return pe("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Rt()},t.prototype.child=function(t){pe("child",[me()],arguments);var e=gt(this.location.path,t),n=new _t(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=vt(this.location.path);if(null===t)return null;var e=new _t(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new _t(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wt(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),pe("put",[be(),_e(!0)],arguments),this.throwIfRoot_("put"),new Se(this,this.authWrapper,this.location,this.mappings(),new bt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=F.RAW),pe("putString",[me(),me(L,!0),_e(!0)],arguments),this.throwIfRoot_("putString");var r=$(e,t),o=Object.assign({},n);return!tt(o["contentType"])&&tt(r.contentType)&&(o["contentType"]=r.contentType),new Se(this,this.authWrapper,this.location,this.mappings(),new bt(r.data,!0),o)},t.prototype.delete=function(){var t=this;return pe("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=te(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){pe("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(l["__awaiter"])(this,void 0,void 0,(function(){var n,r,o,i;return Object(l["__generator"])(this,(function(a){switch(a.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=a.sent(),(o=t.prefixes).push.apply(o,r.prefixes),(i=t.items).push.apply(i,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){pe("list",[ye(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},o=Jt(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(o,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return pe("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=Kt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return pe("updateMetadata",[_e()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Yt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return pe("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Zt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw j();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw A(t)},t}(),Te=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ke=function(){function t(){this.map=new Map,this.id=m}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Ee=function(){function t(e,n,r,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;tt(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=h,this.maxUploadRetryTime_=f,this.requestMap_=new ke}return t.extractBucket_=function(t){var e=t[p]||null;if(null==e)return null;var n=_t.makeFromBucketSpec(e);return n.bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&tt(this.app_.INTERNAL)&&tt(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw N();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Te(N());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();function Re(t,e,n){var r=1,o=null,i=!1,a=0;function s(){return 2===a}var c=!1;function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function d(e){o=setTimeout((function(){o=null,t(p,s())}),e)}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)u.call.apply(u,Object(l["__spreadArrays"])([null,t],e));else{var o,p=s()||i;if(p)u.call.apply(u,Object(l["__spreadArrays"])([null,t],e));else r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}}var h=!1;function f(t){h||(h=!0,c||(null!==o?(t||(a=2),clearTimeout(o),d(0)):t||(a=1)))}return d(0),setTimeout((function(){i=!0,f(!0)}),n),f}function Ce(t){t(!1)}var qe=function(){function t(t,e,n,r,o,i,a,s,c,u,l){var d=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){d.resolve_=t,d.reject_=e,d.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new je(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(o),t.pendingXhr_=null,n=n;var r=n.getErrorCode()===X.NO_ERROR,i=n.getStatus();if(r&&!t.isRetryStatusCode_(i)){var a=-1!==t.successCodes_.indexOf(i);e(!0,new je(a,n))}else{var s=n.getErrorCode()===X.ABORT;e(!1,new je(!1,null,s))}}))}function o(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,o=t.reject_,i=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(i,i.getResponseText());et(a)?r(a):r()}catch(c){o(c)}else if(null!==i){var s=v();s.setServerResponseProp(i.getResponseText()),t.errorCallback_?o(t.errorCallback_(i,s)):o(s)}else if(n.canceled){s=t.appDelete_?N():T();o(s)}else{s=x();o(s)}}this.canceled_?n(!1,new je(!1,null,!0)):this.backoffId_=Re(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Ce(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o},t}(),je=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}();function Pe(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function De(t){var e="undefined"!==typeof u.a?u.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function Ne(t,e,n){var r=St(t.urlParams),o=t.url+r,i=Object.assign({},t.headers);return Pe(i,e),De(i),new qe(o,t.method,i,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Ae=function(){function t(t,e,n){function r(t,e){return new xe(t,e)}if(this.bucket_=null,this.authWrapper_=new Ee(t,r,Ne,this,e),this.app_=t,null!=n)this.bucket_=_t.makeFromBucketSpec(n);else{var o=this.authWrapper_.bucket();null!=o&&(this.bucket_=new _t(o,""))}this.internals_=new Ue(this)}return t.prototype.ref=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(pe("ref",[me(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new xe(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{_t.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return pe("refFromURL",[me(e,!1)],arguments),new xe(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){pe("setMaxUploadRetryTime",[ve()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){pe("setMaxOperationRetryTime",[ve()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Ue=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}(),Ie="storage";function Fe(t,e,n){return new Ae(t,new pt,n)}function Le(t){var e={TaskState:Z,TaskEvent:K,StringFormat:F,Storage:Ae,Reference:xe};t.INTERNAL.registerService(Ie,Fe,e,void 0,!0)}Le(u.a);var Qe=n("c64e"),$e=n.n(Qe),Be=n("2f62");function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(n,!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ze,Ge,He={name:"myloader",mixins:[i["a"]],data:function(){return{photo:{type:"",url:""}}},methods:We({},Object(Be["b"])("index",["addDownloadURL"]),{upload:function(t){var e=this;this.files.forEach((function(n){var r=t+"/".concat($e()()),o=s.a.storage().ref().child(r).put(n);o.on("state_changed",(function(t){e.uploadSize=t.totalBytes,e.uploadedSize=t.bytesTransferred}),null,(function(){o.snapshot.ref.getDownloadURL().then((function(r){e.photo.type=t,e.photo.url=r,e.addDownloadURL(e.photo),e.removeFile(n)}))}))}))}})},Ve=He,Xe=n("2877"),Ke=Object(Xe["a"])(Ve,ze,Ge,!1,null,null,null);e["default"]=Ke.exports},dcf1:function(t,e,n){"use strict";var r=n("2f8e"),o=n.n(r);o.a},e1f4:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},f283:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row q-mt-md"},[n("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],ref:"name",staticStyle:{width:"450px"},attrs:{outlined:"",value:t.name,rules:[function(t){return!!t||"Field is required"}],autofocus:"",label:"料理"},on:{input:function(e){return t.$emit("update:name",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[t.name?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){return t.$emit("update:name","")}}}):t._e()]},proxy:!0}])})],1)},o=[],i=n("5c3a"),a={props:["name"],directives:{selectAll:i["a"]}},s=a,c=n("2877"),u=n("fe09"),l=Object(c["a"])(s,r,o,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QInput:u["q"],QIcon:u["o"]},l.options.components||{})}}]);