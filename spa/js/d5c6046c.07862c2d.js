(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d5c6046c"],{"310a":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"full-width"},[o("q-card-section",[o("q-bar",{staticClass:"bg-blue-5"},[o("q-icon",{attrs:{name:"local_pizza"}}),o("div",{staticStyle:{"padding-left":"40%"}},[t._v(t._s(t.foodToEdit.name))]),o("q-space"),o("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1),o("div",{staticClass:"row q-pa-lg"},[o("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:[{value:"grains",slot:"grains"},{value:"meat",slot:"meat"},{value:"vegetables",slot:"vegetables"},{value:"fruits",slot:"fruits"},{value:"dairy",slot:"dairy"},{value:"oils",slot:"oils"}]},scopedSlots:t._u([{key:"grains",fn:function(){return[o("div",{staticClass:"text-amber"},[t._v("\n              全穀雜糧類\n            ")])]},proxy:!0},{key:"meat",fn:function(){return[o("q-btn",{attrs:{flat:""},on:{click:function(e){t.sub="meat"}}},[o("div",{staticClass:"text-accent"},[t._v("\n                蛋、豆、魚、肉類\n              ")])])]},proxy:!0},{key:"vegetables",fn:function(){return[o("div",{staticClass:"text-positive"},[t._v("\n              蔬菜類\n            ")])]},proxy:!0},{key:"fruits",fn:function(){return[o("div",{staticClass:"text-orange"},[t._v("\n              水果類\n            ")])]},proxy:!0},{key:"dairy",fn:function(){return[o("q-btn",{staticStyle:{height:"100px",padding:"25px"},attrs:{flat:""},on:{click:function(e){t.sub="dairy"}}},[o("div",{staticClass:"text-info"},[t._v("\n                乳品類\n              ")])])]},proxy:!0},{key:"oils",fn:function(){return[o("div",{staticClass:"text-negative"},[t._v("\n              油脂與堅果類\n            ")])]},proxy:!0}]),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}})],1),o("div",{staticClass:"q-pr-lg q-pl-lg"},["grains"!=t.six&&"vegetables"!=t.six&&"fruits"!=t.six&&"oils"!=t.six&&""!=t.six?o("q-btn-toggle",{staticClass:"custom-toggle",attrs:{spread:"","no-caps":"","toggle-color":"blue-grey",options:"meat"==t.sub?[{value:"meat_max",slot:"meat_max"},{value:"meat_high",slot:"meat_high"},{value:"meat_med",slot:"meat_med"},{value:"meat_low",slot:"meat_low"}]:[{value:"dairy_all",slot:"dairy_all"},{value:"dairy_low",slot:"dairy_low"},{value:"dairy_de",slot:"dairy_de"}]},scopedSlots:t._u([{key:"meat_max",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n              超高脂\n            ")])]},proxy:!0},{key:"meat_high",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n              高脂\n            ")])]},proxy:!0},{key:"meat_med",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n              中脂\n            ")])]},proxy:!0},{key:"meat_low",fn:function(){return[o("div",{staticClass:"text-accent"},[t._v("              \n              低脂\n            ")])]},proxy:!0},{key:"dairy_all",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n              全脂\n            ")])]},proxy:!0},{key:"dairy_low",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n              低脂\n            ")])]},proxy:!0},{key:"dairy_de",fn:function(){return[o("div",{staticClass:"text-info"},[t._v("              \n              脱脂\n            ")])]},proxy:!0}],null,!1,1908861364),model:{value:t.six,callback:function(e){t.six=e},expression:"six"}}):t._e()],1)],1),o("div",{staticClass:"q-pa-sm"},[t.six?o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticStyle:{"max-width":"120px","padding-left":"30px"},attrs:{outlined:"",type:"text",label:"份數"},on:{input:function(e){t.value=t.handleValue(t.value)}},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.value=0}}})]},proxy:!0}],null,!1,3988327015),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),o("div",{staticClass:"row"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[o("modal-buttons",{staticClass:"q-pl-md",attrs:{label:"save"}})],1),o("modal-buttons",{staticStyle:{"padding-left":"360px"},attrs:{label:"edit",color:"negative"}})],1),o("q-dialog",{attrs:{persistent:""},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-icon",{staticStyle:{"font-size":"40px"},attrs:{name:"error",color:"negative"}}),o("span",{staticClass:"q-ml-sm text-red"},[t._v("請輸入值 或 只選六大類")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok~",color:"primary"}})],1)],1)],1)],1)},a=[],n=(o("8e6e"),o("8a81"),o("c5f6"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("c47a")),s=o.n(n),r=o("2f62"),c=o("5c3a");o("a481");function l(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!=t&&(t=parseFloat(t)),t}function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(o,!0).forEach((function(e){s()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var f={props:["foodToEdit"],directives:{selectAll:c["a"]},data:function(){return{six:"",value:0,sub:"",error:!1}},methods:u({},Object(r["b"])("index",["updateSix"]),{handleValue:function(t){return l(t)},submitForm:function(){var t=this;0==this.value&&("grains"==this.six?this.value=this.foodToEdit["carbs"]/15:"vegetables"==this.six?this.foodToEdit["carbs"]>4?this.value=this.foodToEdit["carbs"]/5:this.value=1:"oils"==this.six?this.value=this.foodToEdit["fat"]/5:"fruits"==this.six?this.value=this.foodToEdit["carbs"]/15:"meat"==this.six?(this.value=this.foodToEdit["protein"]/7,this.foodToEdit["fat"]>11?this.six="meat_max":this.foodToEdit["fat"]>=9?this.six="meat_high":this.foodToEdit["fat"]>=4?this.six="meat_med":this.six="meat_low"):"dairy"==this.six?(this.value=this.foodToEdit["protein"]/8,this.foodToEdit["fat"]>=8?this.six="dairy_all":this.foodToEdit["fat"]<=1?this.six="dairy_de":this.six="dairy_low"):(this.error=!0,this.value=0)),this.error||(this.value=this.value.toFixed(2),Object.keys(this.foodToEdit).forEach((function(e){"grains"!=e&&"meat_low"!=e&&"vegetables"!=e&&"meat_med"!=e&&"meat_high"!=e&&"meat_max"!=e&&"fruits"!=e&&"dairy_all"!=e&&"oils"!=e&&"dairy_low"!=e&&"dairy_de"!=e||(t.foodToEdit[e]=0)})),this.foodToEdit[this.six]=Number(this.value),this.updateSix(this.foodToEdit),this.$emit("close"))}}),components:{"modal-buttons":o("5638").default}},p=f,m=(o("f78a"),o("2877")),y=o("fe09"),v=Object(m["a"])(p,i,a,!1,null,null,null);e["default"]=v.exports;v.options.components=Object.assign({QCard:y["f"],QCardSection:y["h"],QBar:y["c"],QIcon:y["m"],QSpace:y["y"],QBtn:y["d"],QBtnToggle:y["e"],QInput:y["o"],QDialog:y["i"],QCardActions:y["g"]},v.options.components||{}),v.options.directives=Object.assign({ClosePopup:y["a"]},v.options.directives||{})},"45ab":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-input",{directives:[{name:"select-all",rawName:"v-select-all"}],staticClass:"col bg-grey-1",attrs:{outlined:"",label:"Search"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.searchField=""}},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.searchField?o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.searchField=""}}}):t._e(),o("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}})},a=[],n=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("386d"),o("c47a")),s=o.n(n),r=o("2f62"),c=o("5c3a");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){s()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={directives:{selectAll:c["a"]},computed:d({},Object(r["d"])("index",["search"]),{searchField:{get:function(){return this.search},set:function(t){this.setSearch(t)}}}),methods:d({},Object(r["b"])("index",["setSearch"]))},f=u,p=o("2877"),m=o("fe09"),y=Object(p["a"])(f,i,a,!1,null,null,null);e["default"]=y.exports;y.options.components=Object.assign({QInput:m["o"],QIcon:m["m"]},y.options.components||{})},5638:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card-actions",{attrs:{align:"left"}},[o("q-btn",{staticStyle:{width:"70px"},attrs:{icon:t.icon,label:t.label,type:"submit",color:t.color?t.color:"blue-5"}})],1)},a=[],n={props:["icon","color","label"]},s=n,r=o("2877"),c=o("fe09"),l=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=l.exports;l.options.components=Object.assign({QCardActions:c["g"],QBtn:c["d"]},l.options.components||{})},"5c3a":function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));var i={inserted:function(t){var e=t.querySelector(".q-field__native");e.addEventListener("focus",(function(){e.value.length&&e.select()}))}}},"83a7":function(t,e,o){},ae59:function(t,e,o){"use strict";var i=o("83a7"),a=o.n(i);a.a},c181:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-table",{staticClass:"sticky-header-column-table",attrs:{title:"食材",data:"dishAdd"==t.searchType?t.foodList:t.food,columns:t.food_nutrient,"row-key":"id"},scopedSlots:t._u([{key:"body-cell-name",fn:function(e){return[o("q-td",{key:"name",attrs:{props:e}},[o("q-tooltip",[t._v(t._s(e.row.description))]),o("q-btn",{attrs:{flat:"",disable:"dish"==t.searchType},on:{click:function(o){return t.editFood(e.row)}}},[t._v("\n          "+t._s(e.row.name)+"\n        ")])],1)]}},{key:"body-cell-grains",fn:function(e){return[o("q-td",{key:"grains",attrs:{props:e}},[o("q-badge",{attrs:{color:"amber"}},[t._v("\n          "+t._s(e.row.grains)+"\n        ")])],1)]}},{key:"body-cell-fruits",fn:function(e){return[o("q-td",{key:"fruits",attrs:{props:e}},[o("q-badge",{attrs:{color:"orange"}},[t._v("\n          "+t._s(e.row.fruits)+"\n        ")])],1)]}},{key:"body-cell-vegetables",fn:function(e){return[o("q-td",{key:"vegetables",attrs:{props:e}},[o("q-badge",{attrs:{color:"positive"}},[t._v("\n          "+t._s(e.row.vegetables)+"\n        ")])],1)]}},{key:"body-cell-oils",fn:function(e){return[o("q-td",{key:"oils",attrs:{props:e}},[o("q-badge",{attrs:{color:"negative"}},[t._v("\n          "+t._s(e.row.oils)+"\n        ")])],1)]}},{key:"body-cell-dairy_all",fn:function(e){return[o("q-td",{key:"dairy_all",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_all)+"\n        ")])],1)]}},{key:"body-cell-dairy_low",fn:function(e){return[o("q-td",{key:"dairy_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_low)+"\n        ")])],1)]}},{key:"body-cell-dairy_de",fn:function(e){return[o("q-td",{key:"dairy_de",attrs:{props:e}},[o("q-badge",{attrs:{color:"info"}},[t._v("\n          "+t._s(e.row.dairy_de)+"\n        ")])],1)]}},{key:"body-cell-meat_low",fn:function(e){return[o("q-td",{key:"meat_low",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_low)+"\n        ")])],1)]}},{key:"body-cell-meat_med",fn:function(e){return[o("q-td",{key:"meat_med",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_med)+"\n        ")])],1)]}},{key:"body-cell-meat_high",fn:function(e){return[o("q-td",{key:"meat_high",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_high)+"\n        ")])],1)]}},{key:"body-cell-meat_max",fn:function(e){return[o("q-td",{key:"meat_max",attrs:{props:e}},[o("q-badge",{attrs:{color:"accent"}},[t._v("\n          "+t._s(e.row.meat_max)+"\n        ")])],1)]}}])}),o("q-dialog",{model:{value:t.showEditFood,callback:function(e){t.showEditFood=e},expression:"showEditFood"}},[o("edit-six",{attrs:{foodToEdit:t.foodToEdit},on:{close:function(e){t.showEditFood=!1}}})],1)],1)},a=[],n=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("f751"),o("c47a")),s=o.n(n),r=o("2f62");function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(o,!0).forEach((function(e){s()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={props:["containToSubmit","dishToSubmit"],data:function(){return{foodList:[],showEditFood:!1,foodToEdit:""}},computed:l({},Object(r["d"])("index",["food_nutrient","searchType"]),{},Object(r["c"])("index",["food"])),methods:{editFood:function(t){this.showEditFood=!0,this.foodToEdit=Object.assign({},t)},getFood:function(t){for(var e=this,o=[],i={name:"總和",quantity:0,calories:0,fat:0,protein:0,carbs:0,grains:0,fruits:0,vegetables:0,oils:0,dairy_all:0,dairy_low:0,dairy_de:0,meat_low:0,meat_med:0,meat_high:0,meat_max:0,dietary_fiber:0,total_sugar:0,sodium:0,potassium:0,calcium:0,magnesium:0,iron:0,zinc:0,phosphorus:0,vitaminA:0,vision_alcohol:0,vitaminE:0,vitaminB1:0,vitaminB2:0,vitaminB6:0,vitaminB12:0,vitaminC:0,nicotin:0,folic_acid:0,fatty_acidS:0,fatty_acidM:0,fatty_acidP:0,cholesterol:0},a=function(i){for(var a=function(a){if(e.food[a].id==t[i].food){var s={id:""};Object.keys(e.food[a]).forEach((function(o){s[o]="id"==o||"name"==o?e.food[a][o]:e.food[a][o]*t[i].quantity})),o.push(s),a=e.food.length}n=a},n=0;n<e.food.length;n++)a(n)},n=0;n<t.length;n++)a(n);for(var s=0;s<o.length;s++)i.quantity+=o[s].quantity,i.calories+=o[s].calories,i.fat+=o[s].fat,i.protein+=o[s].protein,i.carbs+=o[s].carbs,i.grains+=o[s].grains,i.fruits+=o[s].fruits,i.vegetables+=o[s].vegetables,i.oils+=o[s].oils,i.dairy_all+=o[s].dairy_all,i.dairy_low+=o[s].dairy_low,i.dairy_de+=o[s].dairy_de,i.meat_low+=o[s].meat_low,i.meat_med+=o[s].meat_med,i.meat_high+=o[s].meat_high,i.meat_max+=o[s].meat_max,i.dietary_fiber+=o[s].dietary_fiber,i.total_sugar+=o[s].total_sugar,i.sodium+=o[s].sodium,i.potassium+=o[s].potassium,i.calcium+=o[s].calcium,i.magnesium+=o[s].magnesium,i.iron+=o[s].iron,i.zinc+=o[s].zinc,i.phosphorus+=o[s].phosphorus,i.vitaminA+=o[s].vitaminA,i.vision_alcohol+=o[s].vision_alcohol,i.vitaminE+=o[s].vitaminE,i.vitaminB1+=o[s].vitaminB1,i.vitaminB2+=o[s].vitaminB2,i.vitaminB6+=o[s].vitaminB6,i.vitaminB12+=o[s].vitaminB12,i.vitaminC+=o[s].vitaminC,i.nicotin+=o[s].nicotin,i.folic_acid+=o[s].folic_acid,i.fatty_acidS+=o[s].fatty_acidS,i.fatty_acidM+=o[s].fatty_acidM,i.fatty_acidP+=o[s].fatty_acidP,i.cholesterol+=o[s].cholesterol;return o.push(i),o}},components:{"edit-six":o("310a").default},mounted:function(){var t=this;"dishAdd"==this.searchType?(this.foodList=this.getFood(this.containToSubmit),Object.keys(this.dishToSubmit).forEach((function(e){"name"!=e&&(t.dishToSubmit[e]=t.foodList[t.foodList.length-1][e])}))):(this.foodList=this.food,console.log(this.foodList))}},u=d,f=(o("ae59"),o("2877")),p=o("fe09"),m=Object(f["a"])(u,i,a,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign({QTable:p["D"],QTd:p["F"],QTooltip:p["J"],QBtn:p["d"],QBadge:p["b"],QDialog:p["i"]},m.options.components||{})},d562:function(t,e,o){},f78a:function(t,e,o){"use strict";var i=o("d562"),a=o.n(i);a.a}}]);